<!doctype html>
<html lang="fr">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-500.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin>

  <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>

  <link rel="stylesheet" href="https://www.wikiod.com/main.7636753edc6f50e96b0045eba39982b1b0b2b6947250d1080bec1f4cbe52399ea6bcecac0e0b6026886b51bdbde879ec9a9820765b03caead79d8ddf3b79336f.css" integrity="sha512-djZ1PtxvUOlrAEXro5mCsbCytpRyUNEIC&#43;wfTL5SOZ6mvOysDgtgJohrUb296HnsmpggdlsDyurXnY3fO3kzbw==" crossorigin="anonymous">
<noscript><style>img.lazyload { display: none; }</style></noscript>
  <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>Premiers pas avec la pile BLE de TI - WikiOD</title>
<meta name="description" content="Connexion aux appareils esclaves BLE # Introduction # Les SoC de la série [CC26XX][1] de Texas Instruments (TI) sont des microcontrôleurs sans fil facilement disponibles ciblant les applications Bluetooth Low Energy (BLE). En plus des MCU, TI propose une [pile logicielle][2] à part entière qui fournit l&amp;rsquo;API et les exemples de codes nécessaires pour aider les développeurs à démarrer rapidement avec la chaîne d&amp;rsquo;outils. Cependant, pour les débutants, se pose toujours la question de savoir par où commencer face à une longue liste de documents de référence et de codes.">
  <link rel="canonical" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/">
<meta property="og:locale" content="fr">
<meta property="og:type" content="article">
<meta property="og:title" content="Premiers pas avec la pile BLE de TI">
<meta property="og:description" content="Connexion aux appareils esclaves BLE # Introduction # Les SoC de la série [CC26XX][1] de Texas Instruments (TI) sont des microcontrôleurs sans fil facilement disponibles ciblant les applications Bluetooth Low Energy (BLE). En plus des MCU, TI propose une [pile logicielle][2] à part entière qui fournit l&rsquo;API et les exemples de codes nécessaires pour aider les développeurs à démarrer rapidement avec la chaîne d&rsquo;outils. Cependant, pour les débutants, se pose toujours la question de savoir par où commencer face à une longue liste de documents de référence et de codes.">
<meta property="og:url" content="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/">
<meta property="og:site_name" content="WikiOD">

  <meta property="og:image" content="https://www.wikiod.com/wikiod_logo.png"/>
      <meta property="og:image:alt" content="WikiOD">
    
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@wikiod">
<meta name="twitter:creator" content="@wikiod">
<meta name="twitter:title" content="Premiers pas avec la pile BLE de TI">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://www.wikiod.com/wikiod_logo.png">
    <meta name="twitter:image:alt" content="Premiers pas avec la pile BLE de TI">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
        "@id": "https://www.wikiod.com/#/schema/organization/1",
      "name": "WikiOD",
      "url": "https://www.wikiod.com/",
      "sameAs": [
        "https://twitter.com/wikiod"
        , "https://github.com/wikiod-com"
        ],
      "logo": {
          "@type": "ImageObject",
          "@id": "https://www.wikiod.com/#/schema/image/1",
          "url": "https://www.wikiod.com/wikiod_logo.png",
          "width":  512 ,
          "height":  512 ,
          "caption": "WikiOD"
        },
        "image": {
          "@id": "https://www.wikiod.com/#/schema/image/1"
        }
      },
    {
      "@type": "WebSite",
      "@id": "https://www.wikiod.com/#/schema/website/1",
      "url": "https://www.wikiod.com/",
      "name": "WikiOD",
      "description": "Bienvenue sur WikiOD - Wiki Documentation en ligne WikiOD est un projet d\u0027écriture collaborative visant à créer une documentation en ligne de la plus haute qualité sur tous les langages de programmation, sujets et concepts liés à l\u0027éducation.",
      "publisher": {
          "@id": "https://www.wikiod.com/#/schema/organization/1"
        }
      },
    {
      "@type": "WebPage",
      "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/",
      "url": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/",
      "name": "Premiers pas avec la pile BLE de TI",
      "description": "",
      "isPartOf": {
        "@id": "https://www.wikiod.com/#/schema/website/1"
      },
      "about": {
          "@id": "https://www.wikiod.com/#/schema/organization/1"
        },
      "datePublished": "0001-01-01T00:00:00CET",
      "dateModified": "0001-01-01T00:00:00CET",
      "breadcrumb": {
        "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/#/schema/image/2"
      },
      "inLanguage": "fr",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/",
          "url": "https://www.wikiod.com/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/fr/",
          "url": "https://www.wikiod.com/fr/",
          "name": "Fr"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/fr/bluetooth/",
          "url": "https://www.wikiod.com/fr/bluetooth/",
          "name": "Bluetooth"
          }
        },{
        "@type": "ListItem",
        "position":  4 ,
        "item": {
          "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/"
          }
        }]
    },

    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Article",
          "@id": "https://www.wikiod.com/#/schema/article/1",
          "headline": "Premiers pas avec la pile BLE de TI",
          "description": "",
          "isPartOf": {
            "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/"
          },
          "mainEntityOfPage": {
            "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/"
          },
          "datePublished": "0001-01-01T00:00:00CET",
          "dateModified": "0001-01-01T00:00:00CET",
          "author": {
            "@id": "https://www.wikiod.com/#/schema/person/2"
          },
          "publisher": {
              "@id": "https://www.wikiod.com/#/schema/organization/1"
            },
          "image": {
            "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/#/schema/image/2"
          }
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Person",
          "@id": "https://www.wikiod.com/#/schema/person/2",
          "name": "WikiOD",
          "sameAs": [
            "https://twitter.com/wikiod"
            , "https://github.com/wikiod-com"
            ]
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/#/schema/image/2",
          "url": "https://www.wikiod.com/wikiod_logo.png",
          "contentUrl": "https://www.wikiod.com/wikiod_logo.png",
          "caption": "Premiers pas avec la pile BLE de TI"
        }
      ]
    }

  ]
}
</script>

  <meta name="theme-color" content="#fff">
<link rel="icon" href="https://www.wikiod.com/favicon.ico" sizes="any">
<link rel="apple-touch-icon" sizes="180x180" href="https://www.wikiod.com/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.wikiod.com/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.wikiod.com/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="https://www.wikiod.com/site.webmanifest">

  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9345677191971886" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y7ZZF8Q2L4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y7ZZF8Q2L4');
</script>

</head>

  <body class="docs single">
    <div class="sticky-top">
<div class="header-bar"></div>

<header class="navbar navbar-expand-lg navbar-light doks-navbar">
  <nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation">

    <a class="navbar-brand order-0" href="/fr/" aria-label="WikiOD">
      WikiOD
    </a>

    <button class="btn btn-link order-0 ms-auto d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
    </button>
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
      <div class="header-bar"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasExampleLabel">Parcourir docs</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <aside class="doks-sidebar mt-n3">
          <nav id="doks-docs-nav" aria-label="Tertiary navigation">
            

  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/fr/docs/bluetooth/"><h3 class="h6 text-uppercase mb-2">Tutoriel bluetooth</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth/">Premiers pas avec Bluetooth</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/">Premiers pas avec la pile BLE de TI</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/prise-l2cap-ouverte-pour-la-communication-low-energy/">Prise L2CAP ouverte pour la communication Low Energy</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth-le-sous-windows/">Premiers pas avec Bluetooth LE sous Windows</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth-sur-le-web/">Premiers pas avec Bluetooth sur le Web</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


          </nav>
        </aside>
      </div>
    </div>
    <button class="btn btn-menu order-2 d-block d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
    <div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel">
      <div class="header-bar d-lg-none"></div>
      <div class="offcanvas-header d-lg-none">
        <h2 class="h5 offcanvas-title ps-2" id="offcanvasDoksLabel"><a class="text-dark" href="/fr/">WikiOD</a></h2>
        <button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button>
      </div>
      <div class="offcanvas-body p-4 p-lg-0">
        <ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto">
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/fr/docs/">Tutoriels</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/fr/blog/">Des articles</a>
              </li>
            
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <ul class="nav flex-column flex-lg-row">
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <button id="mode" class="btn btn-link" type="button" aria-label="Toggle user interface mode">
          <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
          <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
        </button>
        <hr class="text-black-50 my-4 d-lg-none">
        <div class="dropdown">
          <button class="btn btn-doks-light dropdown-toggle" id="doks-languages" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static">
            Français
            <span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>
          <ul class="dropdown-menu dropdown-menu-lg-end me-lg-2 shadow rounded border-0" aria-labelledby="doks-languages">

            <li><a class="dropdown-item current" aria-current="true" href="/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/">Français</a></li>

            <li><hr class="dropdown-divider"></li>

            
                <li><a class="dropdown-item" rel="alternate" href="/bluetooth/get-started-with-tis-ble-stack/" hreflang="en" lang="en">English</a></li>
              
                <li><a class="dropdown-item" rel="alternate" href="/es/bluetooth/comience-con-la-pila-ble-de-ti/" hreflang="es" lang="es">Español</a></li>
              
                <li><a class="dropdown-item" rel="alternate" href="/pt/bluetooth/comece-com-o-ble-stack-da-ti/" hreflang="pt" lang="pt">Português</a></li>
              
                <li><a class="dropdown-item" rel="alternate" href="/tr/bluetooth/tinin-ble-ygnn-kullanmaya-baslayn/" hreflang="tr" lang="tr">Türk</a></li>
              
          </ul>
        </div>
        </div>
    </div>
  </nav>
</header>


</div>
<div class="container-xxl">
  <aside class="doks-sidebar">
    <nav id="doks-docs-nav" class="collapse d-lg-none" aria-label="Tertiary navigation">
      

  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/fr/docs/bluetooth/"><h3 class="h6 text-uppercase mb-2">Tutoriel bluetooth</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth/">Premiers pas avec Bluetooth</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/">Premiers pas avec la pile BLE de TI</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/prise-l2cap-ouverte-pour-la-communication-low-energy/">Prise L2CAP ouverte pour la communication Low Energy</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth-le-sous-windows/">Premiers pas avec Bluetooth LE sous Windows</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth-sur-le-web/">Premiers pas avec Bluetooth sur le Web</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


    </nav>
  </aside>
</div>


    <div class="wrap container-xxl" role="document">
      <div class="content">
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block">
			<nav id="sidebar-default" class="docs-links" aria-label="Main navigation">
				

  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/fr/docs/bluetooth/"><h3 class="h6 text-uppercase mb-2">Tutoriel bluetooth</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth/">Premiers pas avec Bluetooth</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-la-pile-ble-de-ti/">Premiers pas avec la pile BLE de TI</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/prise-l2cap-ouverte-pour-la-communication-low-energy/">Prise L2CAP ouverte pour la communication Low Energy</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth-le-sous-windows/">Premiers pas avec Bluetooth LE sous Windows</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/fr/bluetooth/premiers-pas-avec-bluetooth-sur-le-web/">Premiers pas avec Bluetooth sur le Web</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


			</nav>
		</div>
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>Sur cette page</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#connexion-aux-appareils-esclaves-ble">Connexion aux appareils esclaves BLE</a></li>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#importer-un-exemple-de-projet-dans-ccs">Importer un exemple de projet dans CCS</a></li>
    <li><a href="#construire-et-télécharger">Construire et télécharger</a></li>
    <li><a href="#appuyez-sur-le-code">Appuyez sur le code</a></li>
    <li><a href="#simple_gatt_profilec">simple_gatt_profile.c</a></li>
    <li><a href="#simple_peripheralc">simple_peripheral.c</a></li>
    <li><a href="#connecter-des-capteurs-du-monde-réel">Connecter des capteurs du monde réel</a></li>
    <li><a href="#flux-de-pilote-spi-de-base">Flux de pilote SPI de base</a></li>
    <li><a href="#configuration-des-broches-des">Configuration des broches d&rsquo;E/S</a></li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>Sur cette page</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#connexion-aux-appareils-esclaves-ble">Connexion aux appareils esclaves BLE</a></li>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#importer-un-exemple-de-projet-dans-ccs">Importer un exemple de projet dans CCS</a></li>
    <li><a href="#construire-et-télécharger">Construire et télécharger</a></li>
    <li><a href="#appuyez-sur-le-code">Appuyez sur le code</a></li>
    <li><a href="#simple_gatt_profilec">simple_gatt_profile.c</a></li>
    <li><a href="#simple_peripheralc">simple_peripheral.c</a></li>
    <li><a href="#connecter-des-capteurs-du-monde-réel">Connecter des capteurs du monde réel</a></li>
    <li><a href="#flux-de-pilote-spi-de-base">Flux de pilote SPI de base</a></li>
    <li><a href="#configuration-des-broches-des">Configuration des broches d&rsquo;E/S</a></li>
  </ul>
</nav>
  </div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="/fr/">Home</a></li>
<li class="breadcrumb-item"><a href="/fr/docs/">Docs</a></li>
<li class="breadcrumb-item"><a href="/fr/docs/bluetooth/">Tutoriel bluetooth</a></li>
<li class="breadcrumb-item active" aria-current="page">Premiers pas avec la pile BLE de TI</li>
					</ol>
				</nav>
			
			<h1>Premiers pas avec la pile BLE de TI</h1>
			<p class="lead"></p>
			<nav class="d-xl-none" aria-label="Quaternary navigation">
				<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>Sur cette page</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#connexion-aux-appareils-esclaves-ble">Connexion aux appareils esclaves BLE</a></li>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#importer-un-exemple-de-projet-dans-ccs">Importer un exemple de projet dans CCS</a></li>
    <li><a href="#construire-et-télécharger">Construire et télécharger</a></li>
    <li><a href="#appuyez-sur-le-code">Appuyez sur le code</a></li>
    <li><a href="#simple_gatt_profilec">simple_gatt_profile.c</a></li>
    <li><a href="#simple_peripheralc">simple_peripheral.c</a></li>
    <li><a href="#connecter-des-capteurs-du-monde-réel">Connecter des capteurs du monde réel</a></li>
    <li><a href="#flux-de-pilote-spi-de-base">Flux de pilote SPI de base</a></li>
    <li><a href="#configuration-des-broches-des">Configuration des broches d&rsquo;E/S</a></li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>Sur cette page</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#connexion-aux-appareils-esclaves-ble">Connexion aux appareils esclaves BLE</a></li>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#importer-un-exemple-de-projet-dans-ccs">Importer un exemple de projet dans CCS</a></li>
    <li><a href="#construire-et-télécharger">Construire et télécharger</a></li>
    <li><a href="#appuyez-sur-le-code">Appuyez sur le code</a></li>
    <li><a href="#simple_gatt_profilec">simple_gatt_profile.c</a></li>
    <li><a href="#simple_peripheralc">simple_peripheral.c</a></li>
    <li><a href="#connecter-des-capteurs-du-monde-réel">Connecter des capteurs du monde réel</a></li>
    <li><a href="#flux-de-pilote-spi-de-base">Flux de pilote SPI de base</a></li>
    <li><a href="#configuration-des-broches-des">Configuration des broches d&rsquo;E/S</a></li>
  </ul>
</nav>
  </div>

			</nav>
			<h2 id="connexion-aux-appareils-esclaves-ble">Connexion aux appareils esclaves BLE <a href="#connexion-aux-appareils-esclaves-ble" class="anchor" aria-hidden="true">#</a></h2>
<h2 id="introduction">Introduction <a href="#introduction" class="anchor" aria-hidden="true">#</a></h2>
<p>Les SoC de la série [CC26XX][1] de Texas Instruments (TI) sont des microcontrôleurs sans fil facilement disponibles ciblant les applications Bluetooth Low Energy (BLE). En plus des MCU, TI propose une [pile logicielle][2] à part entière qui fournit l&rsquo;API et les exemples de codes nécessaires pour aider les développeurs à démarrer rapidement avec la chaîne d&rsquo;outils. Cependant, pour les débutants, se pose toujours la question de savoir par où commencer face à une longue liste de documents de référence et de codes. Cette note vise à enregistrer les étapes nécessaires pour lancer le premier projet.</p>
<p>Le profil périphérique simple est l&rsquo;exemple &ldquo;Hello World&rdquo; de la pile BLE, où le MCU agit comme un périphérique BLE pour les hôtes en amont ou les clients de service BLE, comme les PC et les smartphones. Les applications courantes du monde réel incluent : casque Bluetooth, capteur de température Bluetooth, etc.</p>
<p>Avant de commencer, nous devons d&rsquo;abord rassembler des outils logiciels et matériels de base à des fins de programmation et de débogage.</p>
<ol>
<li>
<p>Pile BLE</p>
<p>Download and install TI&rsquo;s BLE-STACK-2-2-0 from the official website. Assume it is installed in the default location &lsquo;C:\ti&rsquo;.</p>
</li>
<li>
<p>IDE - il y a deux options :</p>
</li>
</ol>
<ul>
<li>
<p>Atelier intégré IAR pour ARM. Il s&rsquo;agit d&rsquo;un outil commercial avec une période d&rsquo;évaluation gratuite de 30 jours.</p>
</li>
<li>
<p>Code Composer Studio (CCS) de TI. L&rsquo;IDE officiel de TI et offre une licence gratuite. Dans cet exemple, nous utiliserons CCS V6.1.3</p>
</li>
</ul>
<ol start="3">
<li>
<p>Outil de programmation matérielle</p>
<p>Recommend TI&rsquo;s [XDS100][3] USB-interface JTAG device.</p>
</li>
</ol>
<h2 id="importer-un-exemple-de-projet-dans-ccs">Importer un exemple de projet dans CCS <a href="#importer-un-exemple-de-projet-dans-ccs" class="anchor" aria-hidden="true">#</a></h2>
<p>L&rsquo;exemple de code Simple Peripheral Profile est fourni avec l&rsquo;installation de BLE-Stack. Suivez les étapes ci-dessous pour importer cet exemple de projet dans CCS.</p>
<ol>
<li>Démarrez CCS, créez un dossier d&rsquo;espace de travail. Puis Fichier-&gt;Importer. Sous &ldquo;Sélectionner une source d&rsquo;importation&rdquo;, sélectionnez l&rsquo;option &ldquo;Code Compose Studio -&gt; Projets CCS&rdquo; et cliquez sur &ldquo;Suivant&rdquo;.
[![Importer le projet CCS][4]][4]</li>
<li>Accédez à &lsquo;C:\ti\simplelink\ble_sdk_2_02_00_31\examples\cc2650em\simple_peripheral\ccs&rsquo;. Deux projets seront découverts. Sélectionnez tout et cochez les deux options ci-dessous. Cliquez ensuite sur &lsquo;Terminer&rsquo;. En copiant des projets dans l&rsquo;espace de travail, vous laissez le paramètre de projet d&rsquo;origine inchangé pour toutes les modifications suivantes.
[![entrez la description de l&rsquo;image ici][5]][5]</li>
</ol>
<p>L&rsquo;exemple de profil périphérique simple comprend deux projets :</p>
<ul>
<li>simple_peripheral_cc2650em_app</li>
<li>simple_peripheral_cc2650em_stack</li>
</ul>
<p>« cc2650em » est le nom de code de la carte d&rsquo;évaluation cc2650 de TI. Le projet _stack inclut les codes et le binaire du BEL-Stack-2-2-0 de TI, qui gère la publicité Bluetooth, la prise de contact, la synchronisation des fréquences, etc. C&rsquo;est la partie du code qui est relativement stable et ne veut pas être touché par les développeurs la plupart du temps. Le projet _app est l&rsquo;endroit où les développeurs implémentent leurs propres tâches et le service BLE.</p>
<h2 id="construire-et-télécharger">Construire et télécharger <a href="#construire-et-t%c3%a9l%c3%a9charger" class="anchor" aria-hidden="true">#</a></h2>
<p>Cliquez sur les menus &lsquo;Project-&gt;Build All&rsquo; pour construire les deux projets. Si le compilateur signale une sorte d&rsquo;erreur interne lors de la liaison, essayez de désactiver l&rsquo;option &lsquo;compress_dwarf&rsquo; pour l&rsquo;éditeur de liens en :</p>
<ul>
<li>faites un clic droit sur le projet et sélectionnez &lsquo;Propriétés&rsquo;.</li>
<li>dans &lsquo;Build-&gt;ARM Linker&rsquo;, cliquez sur le bouton &lsquo;Edit Flags&rsquo;.</li>
<li>modifiez la dernière option en &lsquo;&ndash;compress_dwarf=off&rsquo;.</li>
</ul>
<p>Une fois les deux projets construits avec succès, cliquez sur &ldquo;Exécuter-&gt; déboguer&rdquo; séparément pour télécharger à la fois les images de la pile et de l&rsquo;application sur le MCU.</p>
<h2 id="appuyez-sur-le-code">Appuyez sur le code <a href="#appuyez-sur-le-code" class="anchor" aria-hidden="true">#</a></h2>
<p>Pour pouvoir apporter des modifications agressives à l&rsquo;exemple de code, les développeurs doivent acquérir des connaissances détaillées sur la structure en couches de la pile BLE. Pour les tâches élémentaires telles que la lecture/notification de température, nous pouvons nous concentrer sur seulement deux fichiers : PROFILES/simple_gatt_profile.c(.h) et Application/simple_peripheral.c(.h)</p>
<h2 id="simple_gatt_profilec">simple_gatt_profile.c <a href="#simple_gatt_profilec" class="anchor" aria-hidden="true">#</a></h2>
<p>Toutes les applications Bluetooth offrent un certain type de service, chacun se compose d&rsquo;un ensemble de caractéristiques. Le profil périphérique simple définit un service simple, avec l&rsquo;UUID de 0xFFF0, qui se compose de 5 caractéristiques. Ce service est spécifié dans simple_gatt_profile.c. Un résumé du service simple est répertorié comme suit.</p>
<table>
<thead>
<tr>
<th>Nom</th>
<th>Taille des données</th>
<th>UUID</th>
<th>Description</th>
<th>Propriété</th>
</tr>
</thead>
<tbody>
<tr>
<td>simplePeripheralChar1</td>
<td>1</td>
<td>0xFFF1</td>
<td>Caractéristiques 1</td>
<td>Lire écrire</td>
</tr>
<tr>
<td>simplePeripheralChar2</td>
<td>1</td>
<td>0xFFF2</td>
<td>Caractéristiques 2</td>
<td>Lecture seulement</td>
</tr>
<tr>
<td>simplePeripheralChar3</td>
<td>1</td>
<td>0xFFF3</td>
<td>Caractéristiques 3</td>
<td>Écrire seulement</td>
</tr>
<tr>
<td>simplePeripheralChar4</td>
<td>1</td>
<td>0xFFF4</td>
<td>Caractéristiques 4</td>
<td>Notifier</td>
</tr>
<tr>
<td>simplePeripheralChar5</td>
<td>5</td>
<td>0xFFF5</td>
<td>Caractéristiques 5</td>
<td>Lecture seulement</td>
</tr>
<tr>
<td>Les cinq caractéristiques ont des propriétés différentes et servent d&rsquo;exemples pour divers cas d&rsquo;utilisation. Par exemple, le MCU peut utiliser simplePeripheralChar4 pour informer ses clients, les hôtes en amont, du changement d&rsquo;informations.</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Pour définir un service Bluetooth, il faut construire une table d&rsquo;attributs.</p>
<pre><code>/*********************************************************************
 * Profile Attributes - Table
 */

static gattAttribute_t simpleProfileAttrTbl[SERVAPP_NUM_ATTR_SUPPORTED] = 
{
  // Simple Profile Service
  { 
    { ATT_BT_UUID_SIZE, primaryServiceUUID }, /* type */
    GATT_PERMIT_READ,                         /* permissions */
    0,                                        /* handle */
    (uint8 *)&amp;simpleProfileService            /* pValue */
  },

    // Characteristic 1 Declaration
    { 
      { ATT_BT_UUID_SIZE, characterUUID },
      GATT_PERMIT_READ, 
      0,
      &amp;simpleProfileChar1Props 
    },

      // Characteristic Value 1
      { 
        { ATT_UUID_SIZE, simpleProfilechar1UUID },
        GATT_PERMIT_READ | GATT_PERMIT_WRITE, 
        0, 
        &amp;simpleProfileChar1
      },

      // Characteristic 1 User Description
      { 
        { ATT_BT_UUID_SIZE, charUserDescUUID },
        GATT_PERMIT_READ, 
            0, 
            simpleProfileChar1UserDesp 
          }, 
        ...
    };
</code></pre>
<p>La table attributaire commence par un &lsquo;primaryServiceUUID&rsquo; par défaut, qui spécifie l&rsquo;UUID du service (0xFFF0 dans ce cas). Il est ensuite suivi des déclarations de toutes les caractéristiques qui composent le service. Chaque caractéristique a plusieurs attributs, à savoir la permission d&rsquo;accès, la valeur et la description de l&rsquo;utilisateur, etc. Cette table est ensuite enregistrée auprès de la pile BLE.</p>
<pre><code>// Register GATT attribute list and CBs with GATT Server App
status = GATTServApp_RegisterService( simpleProfileAttrTbl, 
                                      GATT_NUM_ATTRS( simpleProfileAttrTbl ),
                                      GATT_MAX_ENCRYPT_KEY_SIZE,
                                      &amp;simpleProfileCBs );
</code></pre>
<p>Lors de l&rsquo;enregistrement du service, les développeurs doivent fournir trois fonctions de rappel pour &lsquo;Lecture&rsquo;, &lsquo;Écriture&rsquo; et &lsquo;Autorisation&rsquo; des caractéristiques.
Nous pouvons trouver dans l&rsquo;exemple de code la liste des fonctions de rappel.</p>
<pre><code>/*********************************************************************
 * PROFILE CALLBACKS
 */

// Simple Profile Service Callbacks
// Note: When an operation on a characteristic requires authorization and 
// pfnAuthorizeAttrCB is not defined for that characteristic's service, the 
// Stack will report a status of ATT_ERR_UNLIKELY to the client.  When an 
// operation on a characteristic requires authorization the Stack will call 
// pfnAuthorizeAttrCB to check a client's authorization prior to calling
// pfnReadAttrCB or pfnWriteAttrCB, so no checks for authorization need to be 
// made within these functions.
CONST gattServiceCBs_t simpleProfileCBs =
{
  simpleProfile_ReadAttrCB,  // Read callback function pointer
  simpleProfile_WriteAttrCB, // Write callback function pointer
  NULL                       // Authorization callback function pointer
};
</code></pre>
<p>Ainsi, simpleProfile_ReadAttrCB sera appelé une fois que le client de service aura envoyé une demande de lecture via la connexion Bluetooth. De même, simpleProfile_WriteAttrCB sera appelé lors d&rsquo;une demande d&rsquo;écriture. Comprendre ces deux fonctions est la clé du succès de la personnalisation du projet.</p>
<p>Vous trouverez ci-dessous la fonction de rappel de lecture.</p>
<pre><code>/*********************************************************************
 * @fn          simpleProfile_ReadAttrCB
 *
 * @brief       Read an attribute.
 *
 * @param       connHandle - connection message was received on
 * @param       pAttr - pointer to attribute
 * @param       pValue - pointer to data to be read
 * @param       pLen - length of data to be read
 * @param       offset - offset of the first octet to be read
 * @param       maxLen - maximum length of data to be read
 * @param       method - type of read message
 *
 * @return      SUCCESS, blePending or Failure
 */
static bStatus_t simpleProfile_ReadAttrCB(uint16_t connHandle,
                                          gattAttribute_t *pAttr,
                                          uint8_t *pValue, uint16_t *pLen,
                                          uint16_t offset, uint16_t maxLen,
                                          uint8_t method)
{
      bStatus_t status = SUCCESS;

      // If attribute permissions require authorization to read, return error
      if ( gattPermitAuthorRead( pAttr-&gt;permissions ) )
      {
        // Insufficient authorization
        return ( ATT_ERR_INSUFFICIENT_AUTHOR );
      }

      // Make sure it's not a blob operation (no attributes in the profile are long)
      if ( offset &gt; 0 )
      {
        return ( ATT_ERR_ATTR_NOT_LONG );
      }

      uint16 uuid = 0;
      if ( pAttr-&gt;type.len == ATT_UUID_SIZE )
        // 128-bit UUID
        uuid = BUILD_UINT16( pAttr-&gt;type.uuid[12], pAttr-&gt;type.uuid[13]);
      else
        uuid = BUILD_UINT16( pAttr-&gt;type.uuid[0], pAttr-&gt;type.uuid[1]);

        switch ( uuid )
        {
          // No need for &quot;GATT_SERVICE_UUID&quot; or &quot;GATT_CLIENT_CHAR_CFG_UUID&quot; cases;
          // gattserverapp handles those reads

          // characteristics 1 and 2 have read permissions
          // characteritisc 3 does not have read permissions; therefore it is not
          //   included here
          // characteristic 4 does not have read permissions, but because it
          //   can be sent as a notification, it is included here
          case SIMPLEPROFILE_CHAR2_UUID:
              *pLen = SIMPLEPROFILE_CHAR2_LEN;
              VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR2_LEN );
              break;

          case SIMPLEPROFILE_CHAR1_UUID:
              *pLen = SIMPLEPROFILE_CHAR1_LEN;
              VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR1_LEN );
              break;

          case SIMPLEPROFILE_CHAR4_UUID:
            *pLen = SIMPLEPROFILE_CHAR4_LEN;
            VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR4_LEN );
            break;

          case SIMPLEPROFILE_CHAR5_UUID:
            *pLen = SIMPLEPROFILE_CHAR5_LEN;
            VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR5_LEN );
            break;

          default:
            // Should never get here! (characteristics 3 and 4 do not have read permissions)
            *pLen = 0;
            status = ATT_ERR_ATTR_NOT_FOUND;
            break;
        }

      return ( status );
}
</code></pre>
<p>J&rsquo;ai légèrement modifié le code de sa version originale. Cette fonction prend 7 paramètres, qui sont expliqués dans les commentaires de l&rsquo;en-tête. La fonction commence par vérifier l&rsquo;autorisation d&rsquo;accès de l&rsquo;attribut, par ex. s&rsquo;il a l&rsquo;autorisation de lecture. Ensuite, il vérifie s&rsquo;il s&rsquo;agit d&rsquo;une lecture de segment d&rsquo;une demande de lecture de blob plus importante en testant la condition &ldquo;if (offset &gt; 0)&rdquo;. De toute évidence, la fonction ne prend pas en charge la lecture de blob pour le moment. Ensuite, l&rsquo;UUID de l&rsquo;attribut demandé est extrait. Il existe deux types d&rsquo;UUID : 16 bits et 128 bits. Alors que l&rsquo;exemple de code définit toutes les caractéristiques à l&rsquo;aide d&rsquo;UUID 16 bits, l&rsquo;UUID 128 bits est plus universel et plus couramment utilisé dans les hôtes en amont comme les PC et les smartphones. Par conséquent, plusieurs lignes de code sont utilisées pour convertir 128 bits d&rsquo;UUID en UUID 16 bits.</p>
<pre><code> uint16 uuid = 0;
  if ( pAttr-&gt;type.len == ATT_UUID_SIZE )
    // 128-bit UUID
    uuid = BUILD_UINT16( pAttr-&gt;type.uuid[12], pAttr-&gt;type.uuid[13]);
  else
    uuid = BUILD_UINT16( pAttr-&gt;type.uuid[0], pAttr-&gt;type.uuid[1]);
</code></pre>
<p>Enfin, après avoir obtenu l&rsquo;UUID, nous pouvons déterminer quel attribut est demandé. Ensuite, le travail restant du côté des développeurs consiste à copier la valeur de l&rsquo;attribut demandé dans le pointeur de destination &lsquo;pValue&rsquo;.</p>
<pre><code>switch ( uuid )
    {          
      case SIMPLEPROFILE_CHAR1_UUID:
          *pLen = SIMPLEPROFILE_CHAR1_LEN;
          VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR1_LEN );
          break;

      case SIMPLEPROFILE_CHAR2_UUID:
          *pLen = SIMPLEPROFILE_CHAR2_LEN;
          VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR2_LEN );
          break;

      case SIMPLEPROFILE_CHAR4_UUID:
        *pLen = SIMPLEPROFILE_CHAR4_LEN;
        VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR4_LEN );
        break;

      case SIMPLEPROFILE_CHAR5_UUID:
        *pLen = SIMPLEPROFILE_CHAR5_LEN;
        VOID memcpy( pValue, pAttr-&gt;pValue, SIMPLEPROFILE_CHAR5_LEN );
        break;

      default:
        *pLen = 0;
        status = ATT_ERR_ATTR_NOT_FOUND;
        break;
    }
</code></pre>
<p>La fonction de rappel d&rsquo;écriture est similaire, sauf qu&rsquo;il existe un type spécial d&rsquo;écriture avec l&rsquo;UUID de GATT_CLIENT_CHAR_CFG_UUID. Il s&rsquo;agit de la demande de l&rsquo;hôte en amont de s&rsquo;enregistrer pour la notification ou l&rsquo;indication des caractéristiques. Appelez simplement l&rsquo;API GATTServApp_ProcessCCCWriteReq pour transmettre la demande à la pile BLE.</p>
<pre><code>case GATT_CLIENT_CHAR_CFG_UUID:
        status = GATTServApp_ProcessCCCWriteReq( connHandle, pAttr, pValue, len,
                                                 offset, GATT_CLIENT_CFG_NOTIFY | GATT_CLIENT_CFG_INDICATE ); // allow client to request notification or indication features
        break;
</code></pre>
<p>Le côté application du code sur le MCU peut souhaiter être informé de toute modification des caractéristiques autorisées en écriture. Les développeurs peuvent implémenter cette notification comme ils le souhaitent. Dans l&rsquo;exemple de code, la fonction de rappel est utilisée.</p>
<pre><code>  // If a charactersitic value changed then callback function to notify application of change
  if ( (notifyApp != 0xFF ) &amp;&amp; simpleProfile_AppCBs &amp;&amp; simpleProfile_AppCBs-&gt;pfnSimpleProfileChange )
  {
    simpleProfile_AppCBs-&gt;pfnSimpleProfileChange( notifyApp );
  }
</code></pre>
<p>En revanche, si le périphérique BLE souhaite notifier aux hôtes en amont tout changement de sa caractéristique, il peut appeler l&rsquo;API GATTServApp_ProcessCharCfg. Cette API est illustrée dans la fonction SimpleProfile_SetParameter.</p>
<pre><code>/*********************************************************************
 * @fn      SimpleProfile_SetParameter
 *
 * @brief   Set a Simple Profile parameter.
 *
 * @param   param - Profile parameter ID
 * @param   len - length of data to write
 * @param   value - pointer to data to write.  This is dependent on
 *          the parameter ID and WILL be cast to the appropriate 
 *          data type (example: data type of uint16 will be cast to 
 *          uint16 pointer).
 *
 * @return  bStatus_t
 */
bStatus_t SimpleProfile_SetParameter( uint8 param, uint8 len, void *value )
{
      bStatus_t ret = SUCCESS;
      switch ( param )
      {
        case SIMPLEPROFILE_CHAR2:
          if ( len == SIMPLEPROFILE_CHAR2_LEN )
          {
            VOID memcpy( simpleProfileChar2, value, SIMPLEPROFILE_CHAR2_LEN );

          }
          else
          {
            ret = bleInvalidRange;
          }
          break;

        case SIMPLEPROFILE_CHAR3:
          if ( len == sizeof ( uint8 ) )
          {
            simpleProfileChar3 = *((uint8*)value);
          }
          else
          {
            ret = bleInvalidRange;
          }
          break;

        case SIMPLEPROFILE_CHAR1:
          if ( len == SIMPLEPROFILE_CHAR1_LEN )
          {
              VOID memcpy( simpleProfileChar1, value, SIMPLEPROFILE_CHAR1_LEN );
          }
          else
          {
            ret = bleInvalidRange;
          }
          break;

        case SIMPLEPROFILE_CHAR4:
          if ( len == SIMPLEPROFILE_CHAR4_LEN )
          {
            //simpleProfileChar4 = *((uint8*)value);
            VOID memcpy( simpleProfileChar4, value, SIMPLEPROFILE_CHAR4_LEN );
            // See if Notification has been enabled
            GATTServApp_ProcessCharCfg( simpleProfileChar4Config, simpleProfileChar4, FALSE,
                                        simpleProfileAttrTbl, GATT_NUM_ATTRS( simpleProfileAttrTbl ),
                                        INVALID_TASK_ID, simpleProfile_ReadAttrCB );
          }
          else
          {
            ret = bleInvalidRange;
          }
          break;

        case SIMPLEPROFILE_CHAR5:
          if ( len == SIMPLEPROFILE_CHAR5_LEN )
          {
            VOID memcpy( simpleProfileChar5, value, SIMPLEPROFILE_CHAR5_LEN );
          }
          else
          {
            ret = bleInvalidRange;
          }
          break;

        default:
          ret = INVALIDPARAMETER;
          break;
      }

      return ( ret );
}
</code></pre>
<p>Ainsi, si l&rsquo;application périphérique simple souhaite notifier la valeur actuelle de SIMPLEPROFILE_CHAR4 aux périphériques homologues, elle peut simplement appeler la fonction SimpleProfile_SetParameter.</p>
<p>En résumé, PROFILES/simple_gatt_profile.c(.h) définit le contenu du service que le périphérique BLE souhaite présenter à ses clients, ainsi que les modalités d&rsquo;accès à ces caractéristiques du service.</p>
<h2 id="simple_peripheralc">simple_peripheral.c <a href="#simple_peripheralc" class="anchor" aria-hidden="true">#</a></h2>
<p>La pile BLE de TI s&rsquo;exécute au-dessus d&rsquo;une couche de système d&rsquo;exploitation multithread allégée. Pour ajouter une charge de travail au MCU, les développeurs doivent d&rsquo;abord créer une tâche. simple_peripheral.c illustre la structure de base d&rsquo;une tâche personnalisée, qui comprend la création, l&rsquo;initialisation et la maintenance de la tâche. Pour commencer avec les tâches très basiques telles que la lecture et la notification de la température, nous nous concentrerons sur quelques fonctions clés ci-dessous.</p>
<p>Le début du fichier définit un ensemble de paramètres qui peuvent affecter les comportements de connexion Bluetooth.</p>
<pre><code>// Advertising interval when device is discoverable (units of 625us, 160=100ms)
#define DEFAULT_ADVERTISING_INTERVAL          160

// Limited discoverable mode advertises for 30.72s, and then stops
// General discoverable mode advertises indefinitely
#define DEFAULT_DISCOVERABLE_MODE             GAP_ADTYPE_FLAGS_GENERAL

// Minimum connection interval (units of 1.25ms, 80=100ms) if automatic
// parameter update request is enabled
#define DEFAULT_DESIRED_MIN_CONN_INTERVAL     80

// Maximum connection interval (units of 1.25ms, 800=1000ms) if automatic
// parameter update request is enabled
#define DEFAULT_DESIRED_MAX_CONN_INTERVAL     400

// Slave latency to use if automatic parameter update request is enabled
#define DEFAULT_DESIRED_SLAVE_LATENCY         0

// Supervision timeout value (units of 10ms, 1000=10s) if automatic parameter
// update request is enabled
#define DEFAULT_DESIRED_CONN_TIMEOUT          1000

// Whether to enable automatic parameter update request when a connection is
// formed
#define DEFAULT_ENABLE_UPDATE_REQUEST         TRUE

// Connection Pause Peripheral time value (in seconds)
#define DEFAULT_CONN_PAUSE_PERIPHERAL         6

// How often to perform periodic event (in msec)
#define SBP_PERIODIC_EVT_PERIOD               1000
</code></pre>
<p>Les paramètres DEFAULT_DESIRED_MIN_CONN_INTERVAL, DEFAULT_DESIRED_MAX_CONN_INTERVAL et DEFAULT_DESIRED_SLAVE_LATENCY définissent ensemble l&rsquo;intervalle de connexion d&rsquo;une connexion Bluetooth, c&rsquo;est-à-dire la fréquence à laquelle une paire d&rsquo;appareils échange des informations. Un intervalle de connexion inférieur signifie un comportement plus réactif mais également une consommation d&rsquo;énergie plus élevée.</p>
<p>Le paramètre DEFAULT_DESIRED_CONN_TIMEOUT définit le délai de réception d&rsquo;une réponse d&rsquo;homologue avant qu&rsquo;une connexion ne soit considérée comme perdue. Le paramètre DEFAULT_ENABLE_UPDATE_REQUEST définit si l&rsquo;appareil esclave est autorisé à modifier l&rsquo;intervalle de connexion pendant l&rsquo;exécution. Il est utile en termes d&rsquo;économie d&rsquo;énergie d&rsquo;avoir des paramètres de connexion différents pour les phases occupées et inactives.</p>
<p>Le paramètre SBP_PERIODIC_EVT_PERIOD définit la période d&rsquo;un événement d&rsquo;horloge qui permettra à la tâche d&rsquo;exécuter périodiquement un appel de fonction. C&rsquo;est l&rsquo;endroit idéal pour ajouter le code pour lire la température et informer les clients du service.</p>
<p>L&rsquo;horloge périodique est lancée dans la fonction SimpleBLEPeripheral_init.</p>
<pre><code>  // Create one-shot clocks for internal periodic events.
  Util_constructClock(&amp;periodicClock, SimpleBLEPeripheral_clockHandler,
                      SBP_PERIODIC_EVT_PERIOD, 0, false, SBP_PERIODIC_EVT);
</code></pre>
<p>Cela créera une horloge avec une période de SBP_PERIODIC_EVT_PERIOD. Et sur timeout, appellera la fonction de SimpleBLEPeripheral_clockHandler avec le paramètre SBP_PERIODIC_EVT. L&rsquo;événement d&rsquo;horloge peut alors être déclenché par</p>
<pre><code>Util_startClock(&amp;periodicClock);
</code></pre>
<p>En recherchant le mot-clé Util_startClock, nous pouvons constater que cette horloge périodique est d&rsquo;abord déclenchée sur l&rsquo;événement GAPROLE_CONNECTED (à l&rsquo;intérieur de la fonction SimpleBLEPeripheral_processStateChangeEvt), ce qui signifie que la tâche démarrera une routine périodique une fois qu&rsquo;elle aura établi une connexion avec un hôte.</p>
<p>Lorsque l&rsquo;horloge périodique expire, sa fonction de rappel enregistrée sera appelée.</p>
<pre><code>/*********************************************************************
 * @fn      SimpleBLEPeripheral_clockHandler
 *
 * @brief   Handler function for clock timeouts.
 *
 * @param   arg - event type
 *
 * @return  None.
 */
static void SimpleBLEPeripheral_clockHandler(UArg arg)
{
  // Store the event.
  events |= arg;

  // Wake up the application.
  Semaphore_post(sem);
}
</code></pre>
<p>Cette fonction définit un indicateur dans le vecteur d&rsquo;événements et active l&rsquo;application à partir de la liste des tâches du système d&rsquo;exploitation. Notez que nous n&rsquo;effectuons aucune charge de travail utilisateur spécifique dans cette fonction de rappel, car elle n&rsquo;est PAS recommandée. La charge de travail des utilisateurs implique souvent des appels aux API de la pile BLE. <strong>Les appels d&rsquo;API de pile BLE à l&rsquo;intérieur d&rsquo;une fonction de rappel entraînent souvent des exceptions système.</strong> Au lieu de cela, nous définissons un indicateur dans le vecteur d&rsquo;événements de la tâche et attendons qu&rsquo;il soit traité ultérieurement dans le contexte de l&rsquo;application. Le point d&rsquo;entrée de l&rsquo;exemple de tâche est simpleBLEPeripheral_taskFxn().</p>
<pre><code>/*********************************************************************
 * @fn      SimpleBLEPeripheral_taskFxn
 *
 * @brief   Application task entry point for the Simple BLE Peripheral.
 *
 * @param   a0, a1 - not used.
 *
 * @return  None.
 */
static void SimpleBLEPeripheral_taskFxn(UArg a0, UArg a1)
{
  // Initialize application
  SimpleBLEPeripheral_init();

  // Application main loop
  for (;;)
  {
    // Waits for a signal to the semaphore associated with the calling thread.
    // Note that the semaphore associated with a thread is signaled when a
    // message is queued to the message receive queue of the thread or when
    // ICall_signal() function is called onto the semaphore.
    ICall_Errno errno = ICall_wait(ICALL_TIMEOUT_FOREVER);

    if (errno == ICALL_ERRNO_SUCCESS)
    {
      ICall_EntityID dest;
      ICall_ServiceEnum src;
      ICall_HciExtEvt *pMsg = NULL;

      if (ICall_fetchServiceMsg(&amp;src, &amp;dest,
                                (void **)&amp;pMsg) == ICALL_ERRNO_SUCCESS)
      {
        uint8 safeToDealloc = TRUE;

        if ((src == ICALL_SERVICE_CLASS_BLE) &amp;&amp; (dest == selfEntity))
        {
          ICall_Stack_Event *pEvt = (ICall_Stack_Event *)pMsg;

          // Check for BLE stack events first
          if (pEvt-&gt;signature == 0xffff)
          {
            if (pEvt-&gt;event_flag &amp; SBP_CONN_EVT_END_EVT)
            {
              // Try to retransmit pending ATT Response (if any)
              SimpleBLEPeripheral_sendAttRsp();
            }
          }
          else
          {
            // Process inter-task message
            safeToDealloc = SimpleBLEPeripheral_processStackMsg((ICall_Hdr *)pMsg);
          }
        }

        if (pMsg &amp;&amp; safeToDealloc)
        {
          ICall_freeMsg(pMsg);
        }
      }

      // If RTOS queue is not empty, process app message.
      while (!Queue_empty(appMsgQueue))
      {
        sbpEvt_t *pMsg = (sbpEvt_t *)Util_dequeueMsg(appMsgQueue);
        if (pMsg)
        {
          // Process message.
          SimpleBLEPeripheral_processAppMsg(pMsg);

          // Free the space from the message.
          ICall_free(pMsg);
        }
      }
    }
    
    if (events &amp; SBP_PERIODIC_EVT)
    {
      events &amp;= ~SBP_PERIODIC_EVT;

      Util_startClock(&amp;periodicClock);

      // Perform periodic application task
      SimpleBLEPeripheral_performPeriodicTask();
    }

  }
}
</code></pre>
<p>Il s&rsquo;agit d&rsquo;une boucle infinie qui continue d&rsquo;interroger la pile de la tâche et les files d&rsquo;attente de messages d&rsquo;application. Il vérifie également son vecteur d&rsquo;événements pour divers drapeaux. C&rsquo;est là que se trouve la routine périodique
<em>réellement</em> exécuté. Lors de la découverte d&rsquo;un SBP_PERIODIC_EVT, la fonction de tâche efface d&rsquo;abord le drapeau, démarre immédiatement le même temporisateur et appelle la fonction de routine SimpleBLEPeripheral_performPeriodicTask();</p>
<pre><code>/*********************************************************************
 * @fn      SimpleBLEPeripheral_performPeriodicTask
 *
 * @brief   Perform a periodic application task. This function gets called
 *          every five seconds (SBP_PERIODIC_EVT_PERIOD). In this example,
 *          the value of the third characteristic in the SimpleGATTProfile
 *          service is retrieved from the profile, and then copied into the
 *          value of the fourth characteristic.
 *
 * @param   None.
 *
 * @return  None.
 */
static void SimpleBLEPeripheral_performPeriodicTask(void)
{
      uint8_t newValue[SIMPLEPROFILE_CHAR4_LEN];
      // user codes to do specific work like reading the temperature
      // .....
      SimpleProfile_SetParameter(SIMPLEPROFILE_CHAR4, SIMPLEPROFILE_CHAR4_LEN,
                               newValue);
}
</code></pre>
<p>Dans la fonction périodique, nous exécutons notre tâche très spécifique de lecture de la température, de génération de requêtes UART, etc. Ensuite, nous appelons l&rsquo;API SimpleProfile_SetParameter() pour communiquer les informations aux clients de service via une connexion Bluetooth. La pile BLE prend en charge toutes les tâches de bas niveau, du maintien de la connexion sans fil à la transmission des messages via la liaison Bluetooth. Tout ce que les développeurs doivent faire est de rassembler les données spécifiques à l&rsquo;application et de les mettre à jour avec les caractéristiques correspondantes dans une table de service.</p>
<p>Enfin, lorsqu&rsquo;une demande d&rsquo;écriture est effectuée sur une caractéristique autorisée en écriture, une fonction de rappel sera évoquée.</p>
<pre><code>static void SimpleBLEPeripheral_charValueChangeCB(uint8_t paramID)
{
  SimpleBLEPeripheral_enqueueMsg(SBP_CHAR_CHANGE_EVT, paramID);
}
</code></pre>
<p>Encore une fois, cette fonction de rappel ne met en file d&rsquo;attente qu&rsquo;un message d&rsquo;application pour la tâche utilisateur, qui sera traitée ultérieurement dans le contexte de l&rsquo;application.</p>
<pre><code>static void SimpleBLEPeripheral_processCharValueChangeEvt(uint8_t paramID)
{
  uint8_t newValue[SIMPLEPROFILE_CHAR1_LEN];

  switch(paramID)
  {
    case SIMPLEPROFILE_CHAR1:
      SimpleProfile_GetParameter(SIMPLEPROFILE_CHAR1, &amp;newValue[0]);
      ProcessUserCmd(newValue[0], NULL);
      break;

    case SIMPLEPROFILE_CHAR3:
      break;

    default:
      // should not reach here!
      break;
  }
}
</code></pre>
<p>Dans l&rsquo;exemple ci-dessus, lorsque SIMPLEPROFILE_CHAR1 est écrit, le code utilisateur récupère d&rsquo;abord la nouvelle valeur en appelant SimpleProfile_GetParameter(), puis analyse les données pour les commandes définies par l&rsquo;utilisateur.</p>
<p>En résumé, simple_peripheral.c montre un exemple de création de tâche utilisateur pour des charges de travail personnalisées. Une méthode de base pour planifier la charge de travail des applications consiste à utiliser un événement d&rsquo;horloge périodique. Les développeurs n&rsquo;ont qu&rsquo;à traiter les informations vers/depuis les caractéristiques de la table de service tandis que la pile BLE s&rsquo;occupe du reste de la communication des informations de la table de service aux appareils homologues (ou vice versa) via une connexion Bluetooth.</p>
<p>[1]: http://www.ti.com/product/cc2640?DCMP=GOOGLE_TI&amp;k_clickid=b27704ae-ab65-48be-a6bd-811b4b7c6fdb&amp;utm_source=GOOGLE&amp;utm_medium=cpc&amp;utm_term=cc2640&amp;utm_campaign=LPR_SCS_CA_P_E_General&amp;utm_content=b27704ae-ab65-48be-a6bd-811b4b7c6fdb&amp;gclid= CJKl6JW8gs8CFQUFaQodzEQLUw
[2] : http://www.ti.com/tool/ble-stack?DCMP=GOOGLE_TI&amp;k_clickid=b27704ae-ab65-48be-a6bd-811b4b7c6fdb&amp;utm_source=GOOGLE&amp;utm_medium=cpc&amp;utm_term=%2Bble%20%2Bstack&amp;utm_campaign=LPR_SCS_CA_N_M_General&amp;utm_content=LPR_SCS_CA_N_M_General&amp;utm_content -48be-a6bd-811b4b7c6fdb&amp;gclid=CLrFn9C8gs8CFQkMaQodbDsJWA
[3] : http://processors.wiki.ti.com/index.php/XDS100
[4] : http://i.stack.imgur.com/nfUSF.jpg
[5] : http://i.stack.imgur.com/x45lU.jpg</p>
<h2 id="connecter-des-capteurs-du-monde-réel">Connecter des capteurs du monde réel <a href="#connecter-des-capteurs-du-monde-r%c3%a9el" class="anchor" aria-hidden="true">#</a></h2>
<p>Pour que les appareils esclaves BLE effectuent un travail utile, les GPIO du MCU sans fil sont presque toujours impliqués. Par exemple, pour lire la température à partir d&rsquo;un capteur externe, la fonctionnalité ADC des broches GPIO peut être requise. Le microcontrôleur CC2640 de TI comporte un maximum de 31 GPIO, étant donné différents types de conditionnement.</p>
<p>Du côté matériel, le CC2640 fournit un riche ensemble de fonctionnalités périphériques telles que ADC, UARTS, SPI, SSI, I2C, etc. Du côté logiciel, la pile BLE de TI tente d&rsquo;offrir une interface de pilote uniforme indépendante du périphérique pour différents périphériques. Une interface de pilote uniforme peut améliorer les chances de réutilisation du code, mais d&rsquo;un autre côté, elle augmente également la pente de la courbe d&rsquo;apprentissage.
Dans cette note, nous utilisons le contrôleur SPI comme exemple et montrons comment intégrer le pilote logiciel dans les applications utilisateur.</p>
<h2 id="flux-de-pilote-spi-de-base">Flux de pilote SPI de base <a href="#flux-de-pilote-spi-de-base" class="anchor" aria-hidden="true">#</a></h2>
<p>Dans la pile BLE de TI, un pilote de périphérique se compose souvent de trois parties : une spécification indépendante du périphérique des API du pilote ; une implémentation spécifique à l&rsquo;appareil des API du pilote et un mappage des ressources matérielles.</p>
<p>Pour le contrôleur SPI, son implémentation de pilote implique trois fichiers :</p>
<ul>
<li>&lt;ti/drivers/SPI.h&gt; &ndash; il s&rsquo;agit de la spécification de l&rsquo;API indépendante de l&rsquo;appareil</li>
<li>&lt;ti/drivers/spi/SPICC26XXDMA.h&gt; &ndash; il s&rsquo;agit de l&rsquo;implémentation de l&rsquo;API spécifique au CC2640</li>
<li>&lt;ti/drivers/dma/UDMACC26XX.h&gt; &ndash; il s&rsquo;agit du pilote uDMA requis par le pilote SPI</li>
</ul>
<p><strong>(Remarque : le meilleur document pour les pilotes de périphériques de la pile BLE de TI se trouve principalement dans leurs fichiers d&rsquo;en-tête, tels que SPICC26XXDMA.h dans ce cas)</strong></p>
<p>Pour commencer à utiliser le contrôleur SPI, créons d&rsquo;abord un fichier c personnalisé, à savoir sbp_spi.c, qui inclut les trois fichiers d&rsquo;en-tête ci-dessus. La prochaine étape naturelle consiste à créer une instance du pilote et à l&rsquo;initier. L&rsquo;instance du pilote est encapsulée dans la structure de données &ndash; SPI_Handle. Une autre structure de données - SPI_Params est utilisée pour spécifier les paramètres clés du contrôleur SPI, tels que le débit binaire, le mode de transfert, etc.</p>
<pre><code>#include &lt;ti/drivers/SPI.h&gt;
#include &lt;ti/drivers/spi/SPICC26XXDMA.h&gt;
#include &lt;ti/drivers/dma/UDMACC26XX.h&gt;

static void sbp_spiInit();

static SPI_Handle spiHandle;
static SPI_Params spiParams;

void sbp_spiInit(){
    SPI_init();
    SPI_Params_init(&amp;spiParams);
    spiParams.mode                     = SPI_MASTER;
    spiParams.transferMode             = SPI_MODE_CALLBACK;
    spiParams.transferCallbackFxn      = sbp_spiCallback;
    spiParams.bitRate                  = 800000;
    spiParams.frameFormat              = SPI_POL0_PHA0;
    spiHandle = SPI_open(CC2650DK_7ID_SPI0, &amp;spiParams);
}
</code></pre>
<p>L&rsquo;exemple de code ci-dessus montre comment initialiser l&rsquo;instance SPI_Handle. L&rsquo;API SPI_init() doit d&rsquo;abord être appelée pour initialiser les structures de données internes. L&rsquo;appel de fonction SPI_Params_init(&amp;spiParams) définit tous les champs de la structure SPI_Params aux valeurs par défaut. Ensuite, les développeurs peuvent modifier les paramètres clés en fonction de leurs cas spécifiques. Par exemple, le code ci-dessus définit le contrôleur SPI pour qu&rsquo;il fonctionne en mode maître avec un débit binaire de 800 kbps et utilise une méthode non bloquante pour traiter chaque transaction, de sorte que lorsqu&rsquo;une transaction est terminée, la fonction de rappel sbp_spiCallback sera appelée.</p>
<p>Enfin, un appel à SPI_open() ouvre le contrôleur SPI matériel et renvoie un handle pour les transactions SPI ultérieures. Le SPI_open() prend deux arguments, le premier est l&rsquo;ID du contrôleur SPI. CC2640 dispose de deux contrôleurs SPI matériels sur puce, donc ces arguments d&rsquo;ID seront 0 ou 1 comme défini ci-dessous. Le deuxième argument est les paramètres souhaités pour le contrôleur SPI.</p>
<pre><code>/*!
 *  @def    CC2650DK_7ID_SPIName
 *  @brief  Enum of SPI names on the CC2650 dev board
 */
typedef enum CC2650DK_7ID_SPIName {
    CC2650DK_7ID_SPI0 = 0,
    CC2650DK_7ID_SPI1,
    CC2650DK_7ID_SPICOUNT
} CC2650DK_7ID_SPIName;
</code></pre>
<p>Après l&rsquo;ouverture réussie du SPI_Handle, les développeurs peuvent lancer immédiatement des transactions SPI. Chaque transaction SPI est décrite à l&rsquo;aide de la structure de données &ndash; SPI_Transaction.</p>
<pre><code>/*!
 *  @brief
 *  A ::SPI_Transaction data structure is used with SPI_transfer(). It indicates
 *  how many ::SPI_FrameFormat frames are sent and received from the buffers
 *  pointed to txBuf and rxBuf.
 *  The arg variable is an user-definable argument which gets passed to the
 *  ::SPI_CallbackFxn when the SPI driver is in ::SPI_MODE_CALLBACK.
 */
typedef struct SPI_Transaction {
    /* User input (write-only) fields */
    size_t     count;      /*!&lt; Number of frames for this transaction */
    void      *txBuf;      /*!&lt; void * to a buffer with data to be transmitted */
    void      *rxBuf;      /*!&lt; void * to a buffer to receive data */
    void      *arg;        /*!&lt; Argument to be passed to the callback function */

    /* User output (read-only) fields */
    SPI_Status status;     /*!&lt; Status code set by SPI_transfer */

    /* Driver-use only fields */
} SPI_Transaction;
</code></pre>
<p>Par exemple, pour démarrer une transaction d&rsquo;écriture sur le bus SPI, les développeurs doivent préparer un &rsquo;txBuf&rsquo; rempli de données à transmettre et définir la variable &lsquo;count&rsquo; sur la longueur des octets de données à envoyer. Enfin, un appel au SPI_transfer(spiHandle, spiTrans) signale au contrôleur SPI de démarrer la transaction.</p>
<pre><code>static SPI_Transaction spiTrans;
bool sbp_spiTransfer(uint8_t len, uint8_t * txBuf, uint8_t rxBuf, uint8_t * args)
{    
    spiTrans.count = len;
    spiTrans.txBuf = txBuf;
    spiTrans.rxBuf = rxBuf;
    spiTrans.arg   = args;

    return SPI_transfer(spiHandle, &amp;spiTrans);
}
</code></pre>
<p>Étant donné que SPI est un protocole duplex qui transmet et reçoit en même temps, lorsqu&rsquo;une transaction d&rsquo;écriture est terminée, ses données de réponse correspondantes sont déjà disponibles sur le &lsquo;rxBuf&rsquo;.</p>
<p>Puisque nous définissons le mode de transfert sur le mode de rappel, chaque fois qu&rsquo;une transaction est terminée, la fonction de rappel enregistrée sera appelée. C&rsquo;est là que nous traitons les données de réponse ou que nous initions la prochaine transaction. <strong>(Remarque : rappelez-vous toujours de ne pas effectuer plus d&rsquo;appels d&rsquo;API que nécessaire dans une fonction de rappel).</strong></p>
<pre><code>void sbp_spiCallback(SPI_Handle handle, SPI_Transaction * transaction){
    uint8_t * args = (uint8_t *)transaction-&gt;arg;
    
    // may want to disable the interrupt first
    key = Hwi_disable();    
    if(transaction-&gt;status == SPI_TRANSFER_COMPLETED){
        // do something here for successful transaction...
    }
    Hwi_restore(key);
}
</code></pre>
<h2 id="configuration-des-broches-des">Configuration des broches d&rsquo;E/S <a href="#configuration-des-broches-des" class="anchor" aria-hidden="true">#</a></h2>
<p>Jusqu&rsquo;à présent, il semble raisonnablement simple d&rsquo;utiliser le pilote SPI. Mais attendez, comment connecter les appels API du logiciel aux signaux SPI physiques ? Cela se fait à travers trois structures de données :
SPICC26XXDMA_Object, SPICC26XXDMA_HWAttrsV1 et SPI_Config. Ils sont normalement instanciés à un emplacement différent comme &lsquo;board.c&rsquo;.</p>
<pre><code>/* SPI objects */
SPICC26XXDMA_Object spiCC26XXDMAObjects[CC2650DK_7ID_SPICOUNT];

/* SPI configuration structure, describing which pins are to be used */
const SPICC26XXDMA_HWAttrsV1 spiCC26XXDMAHWAttrs[CC2650DK_7ID_SPICOUNT] = {
    {
        .baseAddr           = SSI0_BASE,
        .intNum             = INT_SSI0_COMB,
        .intPriority        = ~0,
        .swiPriority        = 0,
        .powerMngrId        = PowerCC26XX_PERIPH_SSI0,
        .defaultTxBufValue  = 0,
        .rxChannelBitMask   = 1&lt;&lt;UDMA_CHAN_SSI0_RX,
        .txChannelBitMask   = 1&lt;&lt;UDMA_CHAN_SSI0_TX,
        .mosiPin            = ADC_MOSI_0,
        .misoPin            = ADC_MISO_0,
        .clkPin             = ADC_SCK_0,
        .csnPin             = ADC_CSN_0
    },
    {
        .baseAddr           = SSI1_BASE,
        .intNum             = INT_SSI1_COMB,
        .intPriority        = ~0,
        .swiPriority        = 0,
        .powerMngrId        = PowerCC26XX_PERIPH_SSI1,
        .defaultTxBufValue  = 0,
        .rxChannelBitMask   = 1&lt;&lt;UDMA_CHAN_SSI1_RX,
        .txChannelBitMask   = 1&lt;&lt;UDMA_CHAN_SSI1_TX,
        .mosiPin            = ADC_MOSI_1,
        .misoPin            = ADC_MISO_1,
        .clkPin             = ADC_SCK_1,
        .csnPin             = ADC_CSN_1
    }
};

/* SPI configuration structure */
const SPI_Config SPI_config[] = {
    {
         .fxnTablePtr = &amp;SPICC26XXDMA_fxnTable,
         .object      = &amp;spiCC26XXDMAObjects[0],
         .hwAttrs     = &amp;spiCC26XXDMAHWAttrs[0]
    },
    {
         .fxnTablePtr = &amp;SPICC26XXDMA_fxnTable,
         .object      = &amp;spiCC26XXDMAObjects[1],
         .hwAttrs     = &amp;spiCC26XXDMAHWAttrs[1]
    },
    {NULL, NULL, NULL}
};
</code></pre>
<p>Le tableau SPI_Config a une entrée distincte pour chaque contrôleur SPI matériel. Chaque entrée a trois champs : fxnTablePtr, objet et hwAttrs. Le &lsquo;fxnTablePtr&rsquo; est une table de points qui pointe vers les implémentations spécifiques à l&rsquo;appareil de l&rsquo;API du pilote.</p>
<p>L&rsquo;« objet » conserve une trace des informations telles que l&rsquo;état du conducteur, le mode de transfert, la fonction de rappel pour le conducteur. Cet &lsquo;objet&rsquo; est automatiquement maintenu par le pilote.</p>
<p>Le &lsquo;hwAttrs&rsquo; stocke les données de mappage des ressources matérielles réelles, par ex. les broches IO pour les signaux SPI, le numéro d&rsquo;interruption matérielle, l&rsquo;adresse de base du contrôleur SPI, etc. La plupart des champs de &lsquo;hwAttrs&rsquo; sont prédéfinis et ne peuvent pas être modifiés. Alors que les broches IO de l&rsquo;interface peuvent être librement attribuées en fonction des cas d&rsquo;utilisation. <strong>Remarque : les microcontrôleurs CC26XX découplent les broches IO de la fonctionnalité périphérique spécifique afin que n&rsquo;importe laquelle des broches IO puisse être affectée à n&rsquo;importe quelle fonction périphérique.</strong></p>
<p>Bien sûr, les broches d&rsquo;E/S réelles doivent d&rsquo;abord être définies dans le fichier &lsquo;board.h&rsquo;.</p>
<pre><code>#define ADC_CSN_1                             IOID_1
#define ADC_SCK_1                             IOID_2
#define ADC_MISO_1                            IOID_3
#define ADC_MOSI_1                            IOID_4
#define ADC_CSN_0                             IOID_5
#define ADC_SCK_0                             IOID_6
#define ADC_MISO_0                            IOID_7
#define ADC_MOSI_0                            IOID_8
</code></pre>
<p>En conséquence, après la configuration du mappage des ressources matérielles, les développeurs peuvent enfin communiquer avec des puces de capteur externes via l&rsquo;interface SPI.</p>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				</div>
			<div class="docs-navigation d-flex justify-content-between">
	
	
		<a href="/fr/bluetooth/premiers-pas-avec-bluetooth/">
						<div class="card my-1">
							<div class="card-body py-2">
								&larr; Premiers pas avec Bluetooth
							</div>
						</div>
					</a>
				<a class="ms-auto" href="/fr/bluetooth/prise-l2cap-ouverte-pour-la-communication-low-energy/">
						<div class="card my-1">
							<div class="card-body py-2">
								Prise L2CAP ouverte pour la communication Low Energy &rarr;
							</div>
						</div>
					</a>
				
	
	</div>

			
		</main>
	</div>

      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-xxl">
    <div class="row">
      <div class="col-lg-8 order-last order-lg-first">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright © 2018-2022 Wikiod.</li>
        </ul>
      </div>
      <div class="col-lg-8 order-first order-lg-last text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item"><a href="/fr/about/">À propos de</a></li>
          <li class="list-inline-item"><a href="/fr/disclaimers/">Avis de non-responsabilité</a></li>
          <li class="list-inline-item"><a href="/fr/dcma/">DCMA</a></li>
          <li class="list-inline-item"><a href="/fr/terms-of-use/">Conditions d&#39;utilisation</a></li>
          <li class="list-inline-item"><a href="/fr/privacy-policy/">Politique de confidentialité</a></li>
          </ul>
      </div>
    </div>
  </div>
</footer>
    

<script src="/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js" integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51&#43;L6gymJi4Qg==" crossorigin="anonymous" defer></script>
  <script src="/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js" integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin="anonymous" defer></script>
  <script src="/main.min.4971645518aa07968852c38e2c8051abe697181395ad03d5fa0eb28e42edf5f54f801de05c98298ce77b65223caf97b7ea259fbca096e64b3840985ec069e2ef.js" integrity="sha512-SXFkVRiqB5aIUsOOLIBRq&#43;aXGBOVrQPV&#43;g6yjkLt9fVPgB3gXJgpjOd7ZSI8r5e36iWfvKCW5ks4QJhewGni7w==" crossorigin="anonymous" defer></script>
  
    
  </body>
</html>