<!doctype html>
<html lang="pt">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-500.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin>

  <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>

  <link rel="stylesheet" href="https://www.wikiod.com/main.43b0b023adae2e6795d9e4443770a29ec36c5d80b552b920a387882f38dd59fc45f95bfed41ea5491dbbc99f117f2037d021e7a3764c15fcb25d77146327b1af.css" integrity="sha512-Q7CwI62uLmeV2eREN3CinsNsXYC1Urkgo4eILzjdWfxF&#43;Vv&#43;1B6lSR27yZ8RfyA30CHno3ZMFfyyXXcUYyexrw==" crossorigin="anonymous">
<noscript><style>img.lazyload { display: none; }</style></noscript>
  <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>Biblioteca Paralela de Tarefas (TPL) - WikiOD</title>
<meta name="description" content="Finalidade e casos de uso # O objetivo da Biblioteca Paralela de Tarefas é simplificar o processo de escrever e manter código paralelo e multithread.
Alguns casos de uso*:
Mantendo uma interface do usuário responsiva executando o trabalho em segundo plano em uma tarefa separada Distribuir a carga de trabalho Permitir que um aplicativo cliente envie e receba solicitações ao mesmo tempo (rest, TCP/UDP, ect) Ler e/ou gravar vários arquivos de uma só vez *O código deve ser considerado caso a caso para multithreading.">
  <link rel="canonical" href="https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/">
<meta property="og:locale" content="pt">
<meta property="og:type" content="article">
<meta property="og:title" content="Biblioteca Paralela de Tarefas (TPL)">
<meta property="og:description" content="Finalidade e casos de uso # O objetivo da Biblioteca Paralela de Tarefas é simplificar o processo de escrever e manter código paralelo e multithread.
Alguns casos de uso*:
Mantendo uma interface do usuário responsiva executando o trabalho em segundo plano em uma tarefa separada Distribuir a carga de trabalho Permitir que um aplicativo cliente envie e receba solicitações ao mesmo tempo (rest, TCP/UDP, ect) Ler e/ou gravar vários arquivos de uma só vez *O código deve ser considerado caso a caso para multithreading.">
<meta property="og:url" content="https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/">
<meta property="og:site_name" content="WikiOD">

  <meta property="og:image" content="https://www.wikiod.com/wikiod_logo.png"/>
      <meta property="og:image:alt" content="WikiOD">
    
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@wikiod">
<meta name="twitter:creator" content="@wikiod">
<meta name="twitter:title" content="Biblioteca Paralela de Tarefas (TPL)">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://www.wikiod.com/wikiod_logo.png">
    <meta name="twitter:image:alt" content="Biblioteca Paralela de Tarefas (TPL)">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
        "@id": "https://www.wikiod.com/#/schema/organization/1",
      "name": "WikiOD",
      "url": "https://www.wikiod.com/",
      "sameAs": [
        "https://twitter.com/wikiod"
        , "https://github.com/wikiod-com"
        ],
      "logo": {
          "@type": "ImageObject",
          "@id": "https://www.wikiod.com/#/schema/image/1",
          "url": "https://www.wikiod.com/wikiod_logo.png",
          "width":  512 ,
          "height":  512 ,
          "caption": "WikiOD"
        },
        "image": {
          "@id": "https://www.wikiod.com/#/schema/image/1"
        }
      },
    {
      "@type": "WebSite",
      "@id": "https://www.wikiod.com/#/schema/website/1",
      "url": "https://www.wikiod.com/",
      "name": "WikiOD",
      "description": "Bem-vindo ao WikiOD - Documentação online do Wiki O WikiOD é um projeto de escrita colaborativa para construir documentação online da mais alta qualidade de todas as linguagens de programação, assuntos e conceitos relacionados à educação.",
      "publisher": {
          "@id": "https://www.wikiod.com/#/schema/organization/1"
        }
      },
    {
      "@type": "WebPage",
      "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/",
      "url": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/",
      "name": "Biblioteca Paralela de Tarefas (TPL)",
      "description": "",
      "isPartOf": {
        "@id": "https://www.wikiod.com/#/schema/website/1"
      },
      "about": {
          "@id": "https://www.wikiod.com/#/schema/organization/1"
        },
      "datePublished": "0001-01-01T00:00:00CET",
      "dateModified": "0001-01-01T00:00:00CET",
      "breadcrumb": {
        "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/#/schema/image/2"
      },
      "inLanguage": "pt",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/",
          "url": "https://www.wikiod.com/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/pt/",
          "url": "https://www.wikiod.com/pt/",
          "name": "Pt"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/pt/dotnet/",
          "url": "https://www.wikiod.com/pt/dotnet/",
          "name": "Dotnet"
          }
        },{
        "@type": "ListItem",
        "position":  4 ,
        "item": {
          "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/"
          }
        }]
    },

    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Article",
          "@id": "https://www.wikiod.com/#/schema/article/1",
          "headline": "Biblioteca Paralela de Tarefas (TPL)",
          "description": "",
          "isPartOf": {
            "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/"
          },
          "mainEntityOfPage": {
            "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/"
          },
          "datePublished": "0001-01-01T00:00:00CET",
          "dateModified": "0001-01-01T00:00:00CET",
          "author": {
            "@id": "https://www.wikiod.com/#/schema/person/2"
          },
          "publisher": {
              "@id": "https://www.wikiod.com/#/schema/organization/1"
            },
          "image": {
            "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/#/schema/image/2"
          }
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Person",
          "@id": "https://www.wikiod.com/#/schema/person/2",
          "name": "WikiOD",
          "sameAs": [
            "https://twitter.com/wikiod"
            , "https://github.com/wikiod-com"
            ]
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/#/schema/image/2",
          "url": "https://www.wikiod.com/wikiod_logo.png",
          "contentUrl": "https://www.wikiod.com/wikiod_logo.png",
          "caption": "Biblioteca Paralela de Tarefas (TPL)"
        }
      ]
    }

  ]
}
</script>

  <meta name="theme-color" content="#fff">
<link rel="icon" href="https://www.wikiod.com/favicon.ico" sizes="any">
<link rel="apple-touch-icon" sizes="180x180" href="https://www.wikiod.com/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.wikiod.com/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.wikiod.com/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="https://www.wikiod.com/site.webmanifest">

  

</head>

  <body class="docs single">
    <div class="sticky-top">
<div class="header-bar"></div>

<header class="navbar navbar-expand-lg navbar-light doks-navbar">
  <nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation">

    <a class="navbar-brand order-0" href="/pt/" aria-label="WikiOD">
      WikiOD
    </a>

    <button class="btn btn-link order-0 ms-auto d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
    </button>
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
      <div class="header-bar"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasExampleLabel">Navegar docs</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <aside class="doks-sidebar mt-n3">
          <nav id="doks-docs-nav" aria-label="Tertiary navigation">
            

  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/pt/docs/dotnet/"><h3 class="h6 text-uppercase mb-2">Tutorial do .NET Framework</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/introducao-ao-net-framework/">Introdução ao .NET Framework</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/linq/">LINQ</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/serializacao-json/">Serialização JSON</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/">Biblioteca Paralela de Tarefas (TPL)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/excecoes/">Exceções</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/analise-de-data-e-hora/">Análise de data e hora</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/dicionarios/">Dicionários</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/injecao-de-dependencia/">Injeção de dependência</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/adonet/">ADO.NET</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/clientes-http/">Clientes HTTP</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/arvores-de-expressao/">Árvores de Expressão</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/reflexao/">Reflexão</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/fluxo-de-dados-tpl/">Fluxo de dados TPL</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/sistema-de-empacotamento-nuget/">Sistema de empacotamento NuGet</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/xmlserializer/">XmlSerializer</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemruntimecachingmemorycache-objectcache/">System.Runtime.Caching.MemoryCache (ObjectCache)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/gerenciamento-de-memoria/">Gerenciamento de memória</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/clr/">CLR</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/contratos-de-codigo/">Contratos de código</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/classe-speechrecognitionengine-para-reconhecer-a-fala/">Classe SpeechRecognitionEngine para reconhecer a fala</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/rede/">Rede</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/globalizacao-em-aspnet-mvc-usando-internacionalizacao-inteligente-para-aspnet/">Globalização em ASP.NET MVC usando internacionalização inteligente para ASP.NET</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/cordas/">Cordas</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/rosqueamento/">Rosqueamento</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/criptografia--criptografia/">Criptografia  Criptografia</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemio/">System.IO</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/definicoes/">Definições</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/net-core/">.NET Core</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/colecoes/">Coleções</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/estrutura-de-extensibilidade-gerenciada/">Estrutura de Extensibilidade Gerenciada</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/para-cada/">Para cada</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/namespace-systemreflectionemit/">Namespace System.Reflection.Emit</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/servidores-http/">Servidores HTTP</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/chamada-de-plataforma/">Chamada de plataforma</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/tipos-personalizados/">Tipos personalizados</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/json-em-net-com-newtonsoftjson/">JSON em .NET com Newtonsoft.Json</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/portas-seriais/">Portas seriais</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/entradasaida-de-arquivo/">Entradasaída de arquivo</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/usando-progresst-e-iprogresst/">Usando Progress&lt;T&gt; e IProgress&lt;T&gt;</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/classe-systemiofile/">Classe System.IO.File</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/coleta-de-lixo/">Coleta de lixo</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/expressoes-regulares-systemtextregularexpressions/">Expressões Regulares (System.Text.RegularExpressions)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/diagnostico-do-sistema/">Diagnóstico do sistema</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemnetmail/">System.Net.Mail</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/teste-de-unidade/">Teste de unidade</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/visao-geral-da-api-da-biblioteca-paralela-de-tarefas-tpl/">Visão geral da API da biblioteca paralela de tarefas (TPL)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/compilador-jit/">Compilador JIT</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/pilha-e-pilha/">Pilha e pilha</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/colecoes-readonly/">Coleções ReadOnly</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/processamento-paralelo-usando-o-framework-net/">Processamento paralelo usando o framework .Net</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/formularios-vb/">Formulários VB</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/trabalhar-com-sha1-em-c/">Trabalhar com SHA1 em C#</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/configuracao-de-afinidade-de-processo-e-thread/">Configuração de afinidade de processo e thread</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/contextos-de-sincronizacao/">Contextos de Sincronização</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/lendo-e-gravando-arquivos-zip/">Lendo e gravando arquivos Zip</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/carregar-arquivo-e-dados-post-para-o-servidor-web/">Carregar arquivo e dados POST para o servidor web</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/glossario-de-acronimos/">Glossário de Acrônimos</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/gravar-e-ler-do-fluxo-stderr/">Gravar e ler do fluxo StdErr</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  


          </nav>
        </aside>
      </div>
    </div>
    <button class="btn btn-menu order-2 d-block d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
    <div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel">
      <div class="header-bar d-lg-none"></div>
      <div class="offcanvas-header d-lg-none">
        <h2 class="h5 offcanvas-title ps-2" id="offcanvasDoksLabel"><a class="text-dark" href="/pt/">WikiOD</a></h2>
        <button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button>
      </div>
      <div class="offcanvas-body p-4 p-lg-0">
        <ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto">
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/pt/docs/">Tutoriais</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/pt/blog/">Artigos</a>
              </li>
            
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <ul class="nav flex-column flex-lg-row">
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <button id="mode" class="btn btn-link" type="button" aria-label="Toggle user interface mode">
          <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
          <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
        </button>
        <hr class="text-black-50 my-4 d-lg-none">
        <div class="dropdown">
          <button class="btn btn-doks-light dropdown-toggle" id="doks-languages" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static">
            Português
            <span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>
          <ul class="dropdown-menu dropdown-menu-lg-end me-lg-2 shadow rounded border-0" aria-labelledby="doks-languages">

            <li><a class="dropdown-item current" aria-current="true" href="/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/">Português</a></li>

            <li><hr class="dropdown-divider"></li>

            
                <li><a class="dropdown-item" rel="alternate" href="/dotnet/task-parallel-library-tpl/" hreflang="en" lang="en">English</a></li>
              
                <li><a class="dropdown-item" rel="alternate" href="/es/dotnet/biblioteca-paralela-de-tareas-tpl/" hreflang="es" lang="es">Español</a></li>
              
                <li><a class="dropdown-item" rel="alternate" href="/fr/dotnet/bibliotheque-parallele-de-taches-tpl/" hreflang="fr" lang="fr">Français</a></li>
              
                <li><a class="dropdown-item" rel="alternate" href="/tr/dotnet/gorev-paralel-kitaplg-tpl/" hreflang="tr" lang="tr">Türk</a></li>
              
          </ul>
        </div>
        </div>
    </div>
  </nav>
</header>


</div>
<div class="container-xxl">
  <aside class="doks-sidebar">
    <nav id="doks-docs-nav" class="collapse d-lg-none" aria-label="Tertiary navigation">
      

  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/pt/docs/dotnet/"><h3 class="h6 text-uppercase mb-2">Tutorial do .NET Framework</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/introducao-ao-net-framework/">Introdução ao .NET Framework</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/linq/">LINQ</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/serializacao-json/">Serialização JSON</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/">Biblioteca Paralela de Tarefas (TPL)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/excecoes/">Exceções</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/analise-de-data-e-hora/">Análise de data e hora</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/dicionarios/">Dicionários</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/injecao-de-dependencia/">Injeção de dependência</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/adonet/">ADO.NET</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/clientes-http/">Clientes HTTP</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/arvores-de-expressao/">Árvores de Expressão</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/reflexao/">Reflexão</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/fluxo-de-dados-tpl/">Fluxo de dados TPL</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/sistema-de-empacotamento-nuget/">Sistema de empacotamento NuGet</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/xmlserializer/">XmlSerializer</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemruntimecachingmemorycache-objectcache/">System.Runtime.Caching.MemoryCache (ObjectCache)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/gerenciamento-de-memoria/">Gerenciamento de memória</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/clr/">CLR</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/contratos-de-codigo/">Contratos de código</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/classe-speechrecognitionengine-para-reconhecer-a-fala/">Classe SpeechRecognitionEngine para reconhecer a fala</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/rede/">Rede</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/globalizacao-em-aspnet-mvc-usando-internacionalizacao-inteligente-para-aspnet/">Globalização em ASP.NET MVC usando internacionalização inteligente para ASP.NET</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/cordas/">Cordas</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/rosqueamento/">Rosqueamento</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/criptografia--criptografia/">Criptografia  Criptografia</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemio/">System.IO</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/definicoes/">Definições</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/net-core/">.NET Core</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/colecoes/">Coleções</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/estrutura-de-extensibilidade-gerenciada/">Estrutura de Extensibilidade Gerenciada</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/para-cada/">Para cada</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/namespace-systemreflectionemit/">Namespace System.Reflection.Emit</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/servidores-http/">Servidores HTTP</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/chamada-de-plataforma/">Chamada de plataforma</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/tipos-personalizados/">Tipos personalizados</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/json-em-net-com-newtonsoftjson/">JSON em .NET com Newtonsoft.Json</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/portas-seriais/">Portas seriais</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/entradasaida-de-arquivo/">Entradasaída de arquivo</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/usando-progresst-e-iprogresst/">Usando Progress&lt;T&gt; e IProgress&lt;T&gt;</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/classe-systemiofile/">Classe System.IO.File</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/coleta-de-lixo/">Coleta de lixo</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/expressoes-regulares-systemtextregularexpressions/">Expressões Regulares (System.Text.RegularExpressions)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/diagnostico-do-sistema/">Diagnóstico do sistema</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemnetmail/">System.Net.Mail</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/teste-de-unidade/">Teste de unidade</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/visao-geral-da-api-da-biblioteca-paralela-de-tarefas-tpl/">Visão geral da API da biblioteca paralela de tarefas (TPL)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/compilador-jit/">Compilador JIT</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/pilha-e-pilha/">Pilha e pilha</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/colecoes-readonly/">Coleções ReadOnly</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/processamento-paralelo-usando-o-framework-net/">Processamento paralelo usando o framework .Net</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/formularios-vb/">Formulários VB</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/trabalhar-com-sha1-em-c/">Trabalhar com SHA1 em C#</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/configuracao-de-afinidade-de-processo-e-thread/">Configuração de afinidade de processo e thread</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/contextos-de-sincronizacao/">Contextos de Sincronização</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/lendo-e-gravando-arquivos-zip/">Lendo e gravando arquivos Zip</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/carregar-arquivo-e-dados-post-para-o-servidor-web/">Carregar arquivo e dados POST para o servidor web</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/glossario-de-acronimos/">Glossário de Acrônimos</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/gravar-e-ler-do-fluxo-stderr/">Gravar e ler do fluxo StdErr</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  


    </nav>
  </aside>
</div>


    <div class="wrap container-xxl" role="document">
      <div class="content">
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block">
			<nav id="sidebar-default" class="docs-links" aria-label="Main navigation">
				

  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/pt/docs/dotnet/"><h3 class="h6 text-uppercase mb-2">Tutorial do .NET Framework</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/introducao-ao-net-framework/">Introdução ao .NET Framework</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/linq/">LINQ</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/serializacao-json/">Serialização JSON</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/pt/dotnet/biblioteca-paralela-de-tarefas-tpl/">Biblioteca Paralela de Tarefas (TPL)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/excecoes/">Exceções</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/analise-de-data-e-hora/">Análise de data e hora</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/dicionarios/">Dicionários</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/injecao-de-dependencia/">Injeção de dependência</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/adonet/">ADO.NET</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/clientes-http/">Clientes HTTP</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/arvores-de-expressao/">Árvores de Expressão</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/reflexao/">Reflexão</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/fluxo-de-dados-tpl/">Fluxo de dados TPL</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/sistema-de-empacotamento-nuget/">Sistema de empacotamento NuGet</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/xmlserializer/">XmlSerializer</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemruntimecachingmemorycache-objectcache/">System.Runtime.Caching.MemoryCache (ObjectCache)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/gerenciamento-de-memoria/">Gerenciamento de memória</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/clr/">CLR</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/contratos-de-codigo/">Contratos de código</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/classe-speechrecognitionengine-para-reconhecer-a-fala/">Classe SpeechRecognitionEngine para reconhecer a fala</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/rede/">Rede</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/globalizacao-em-aspnet-mvc-usando-internacionalizacao-inteligente-para-aspnet/">Globalização em ASP.NET MVC usando internacionalização inteligente para ASP.NET</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/cordas/">Cordas</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/rosqueamento/">Rosqueamento</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/criptografia--criptografia/">Criptografia  Criptografia</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemio/">System.IO</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/definicoes/">Definições</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/net-core/">.NET Core</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/colecoes/">Coleções</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/estrutura-de-extensibilidade-gerenciada/">Estrutura de Extensibilidade Gerenciada</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/para-cada/">Para cada</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/namespace-systemreflectionemit/">Namespace System.Reflection.Emit</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/servidores-http/">Servidores HTTP</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/chamada-de-plataforma/">Chamada de plataforma</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/tipos-personalizados/">Tipos personalizados</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/json-em-net-com-newtonsoftjson/">JSON em .NET com Newtonsoft.Json</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/portas-seriais/">Portas seriais</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/entradasaida-de-arquivo/">Entradasaída de arquivo</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/usando-progresst-e-iprogresst/">Usando Progress&lt;T&gt; e IProgress&lt;T&gt;</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/classe-systemiofile/">Classe System.IO.File</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/coleta-de-lixo/">Coleta de lixo</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/expressoes-regulares-systemtextregularexpressions/">Expressões Regulares (System.Text.RegularExpressions)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/diagnostico-do-sistema/">Diagnóstico do sistema</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/systemnetmail/">System.Net.Mail</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/teste-de-unidade/">Teste de unidade</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/visao-geral-da-api-da-biblioteca-paralela-de-tarefas-tpl/">Visão geral da API da biblioteca paralela de tarefas (TPL)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/compilador-jit/">Compilador JIT</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/pilha-e-pilha/">Pilha e pilha</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/colecoes-readonly/">Coleções ReadOnly</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/processamento-paralelo-usando-o-framework-net/">Processamento paralelo usando o framework .Net</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/formularios-vb/">Formulários VB</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/trabalhar-com-sha1-em-c/">Trabalhar com SHA1 em C#</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/configuracao-de-afinidade-de-processo-e-thread/">Configuração de afinidade de processo e thread</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/contextos-de-sincronizacao/">Contextos de Sincronização</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/lendo-e-gravando-arquivos-zip/">Lendo e gravando arquivos Zip</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/carregar-arquivo-e-dados-post-para-o-servidor-web/">Carregar arquivo e dados POST para o servidor web</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/glossario-de-acronimos/">Glossário de Acrônimos</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/pt/dotnet/gravar-e-ler-do-fluxo-stderr/">Gravar e ler do fluxo StdErr</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  


			</nav>
		</div>
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>Nesta página</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#loop-produtor-consumidor-básico-blockingcollection">Loop produtor-consumidor básico (BlockingCollection)</a></li>
    <li><a href="#paraleloinvoke">Paralelo.Invoke</a></li>
    <li><a href="#tarefa-instanciação-básica-e-espera">Tarefa: instanciação básica e espera</a></li>
    <li><a href="#tarefawhenall">Tarefa.WhenAll</a></li>
    <li><a href="#parallelforeach">Parallel.ForEach</a></li>
    <li><a href="#paralelopara">Paralelo.Para</a></li>
    <li><a href="#tarefa-retornando-um-valor">Tarefa: Retornando um valor</a></li>
    <li><a href="#tarefa-waitall-e-captura-de-variáveis">Tarefa: WaitAll e captura de variáveis</a></li>
    <li><a href="#tarefa-waitany">Tarefa: WaitAny</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-usando-wait">Tarefa: tratamento de exceções (usando Wait)</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-sem-usar-wait">Tarefa: tratamento de exceções (sem usar Wait)</a></li>
    <li><a href="#tarefa-cancelando-usando-cancellationtoken">Tarefa: cancelando usando CancellationToken</a></li>
    <li><a href="#tarefawhenany">Tarefa.WhenAny</a></li>
    <li><a href="#contexto-de-execução-fluindo-com-asynclocal">Contexto de execução fluindo com AsyncLocal</a></li>
    <li><a href="#parallelforeach-em-vbnet">Parallel.ForEach em VB.NET</a></li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>Nesta página</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#loop-produtor-consumidor-básico-blockingcollection">Loop produtor-consumidor básico (BlockingCollection)</a></li>
    <li><a href="#paraleloinvoke">Paralelo.Invoke</a></li>
    <li><a href="#tarefa-instanciação-básica-e-espera">Tarefa: instanciação básica e espera</a></li>
    <li><a href="#tarefawhenall">Tarefa.WhenAll</a></li>
    <li><a href="#parallelforeach">Parallel.ForEach</a></li>
    <li><a href="#paralelopara">Paralelo.Para</a></li>
    <li><a href="#tarefa-retornando-um-valor">Tarefa: Retornando um valor</a></li>
    <li><a href="#tarefa-waitall-e-captura-de-variáveis">Tarefa: WaitAll e captura de variáveis</a></li>
    <li><a href="#tarefa-waitany">Tarefa: WaitAny</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-usando-wait">Tarefa: tratamento de exceções (usando Wait)</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-sem-usar-wait">Tarefa: tratamento de exceções (sem usar Wait)</a></li>
    <li><a href="#tarefa-cancelando-usando-cancellationtoken">Tarefa: cancelando usando CancellationToken</a></li>
    <li><a href="#tarefawhenany">Tarefa.WhenAny</a></li>
    <li><a href="#contexto-de-execução-fluindo-com-asynclocal">Contexto de execução fluindo com AsyncLocal</a></li>
    <li><a href="#parallelforeach-em-vbnet">Parallel.ForEach em VB.NET</a></li>
  </ul>
</nav>
  </div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="/pt/">Home</a></li>
<li class="breadcrumb-item"><a href="/pt/docs/">Docs</a></li>
<li class="breadcrumb-item"><a href="/pt/docs/dotnet/">Tutorial do .NET Framework</a></li>
<li class="breadcrumb-item active" aria-current="page">Biblioteca Paralela de Tarefas (TPL)</li>
					</ol>
				</nav>
			
			<h1>Biblioteca Paralela de Tarefas (TPL)</h1>
			<p class="lead"></p>
			<nav class="d-xl-none" aria-label="Quaternary navigation">
				<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>Nesta página</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#loop-produtor-consumidor-básico-blockingcollection">Loop produtor-consumidor básico (BlockingCollection)</a></li>
    <li><a href="#paraleloinvoke">Paralelo.Invoke</a></li>
    <li><a href="#tarefa-instanciação-básica-e-espera">Tarefa: instanciação básica e espera</a></li>
    <li><a href="#tarefawhenall">Tarefa.WhenAll</a></li>
    <li><a href="#parallelforeach">Parallel.ForEach</a></li>
    <li><a href="#paralelopara">Paralelo.Para</a></li>
    <li><a href="#tarefa-retornando-um-valor">Tarefa: Retornando um valor</a></li>
    <li><a href="#tarefa-waitall-e-captura-de-variáveis">Tarefa: WaitAll e captura de variáveis</a></li>
    <li><a href="#tarefa-waitany">Tarefa: WaitAny</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-usando-wait">Tarefa: tratamento de exceções (usando Wait)</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-sem-usar-wait">Tarefa: tratamento de exceções (sem usar Wait)</a></li>
    <li><a href="#tarefa-cancelando-usando-cancellationtoken">Tarefa: cancelando usando CancellationToken</a></li>
    <li><a href="#tarefawhenany">Tarefa.WhenAny</a></li>
    <li><a href="#contexto-de-execução-fluindo-com-asynclocal">Contexto de execução fluindo com AsyncLocal</a></li>
    <li><a href="#parallelforeach-em-vbnet">Parallel.ForEach em VB.NET</a></li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>Nesta página</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#loop-produtor-consumidor-básico-blockingcollection">Loop produtor-consumidor básico (BlockingCollection)</a></li>
    <li><a href="#paraleloinvoke">Paralelo.Invoke</a></li>
    <li><a href="#tarefa-instanciação-básica-e-espera">Tarefa: instanciação básica e espera</a></li>
    <li><a href="#tarefawhenall">Tarefa.WhenAll</a></li>
    <li><a href="#parallelforeach">Parallel.ForEach</a></li>
    <li><a href="#paralelopara">Paralelo.Para</a></li>
    <li><a href="#tarefa-retornando-um-valor">Tarefa: Retornando um valor</a></li>
    <li><a href="#tarefa-waitall-e-captura-de-variáveis">Tarefa: WaitAll e captura de variáveis</a></li>
    <li><a href="#tarefa-waitany">Tarefa: WaitAny</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-usando-wait">Tarefa: tratamento de exceções (usando Wait)</a></li>
    <li><a href="#tarefa-tratamento-de-exceções-sem-usar-wait">Tarefa: tratamento de exceções (sem usar Wait)</a></li>
    <li><a href="#tarefa-cancelando-usando-cancellationtoken">Tarefa: cancelando usando CancellationToken</a></li>
    <li><a href="#tarefawhenany">Tarefa.WhenAny</a></li>
    <li><a href="#contexto-de-execução-fluindo-com-asynclocal">Contexto de execução fluindo com AsyncLocal</a></li>
    <li><a href="#parallelforeach-em-vbnet">Parallel.ForEach em VB.NET</a></li>
  </ul>
</nav>
  </div>

			</nav>
			<h1 id="finalidade-e-casos-de-uso">Finalidade e casos de uso <a href="#finalidade-e-casos-de-uso" class="anchor" aria-hidden="true">#</a></h1>
<p>O objetivo da Biblioteca Paralela de Tarefas é simplificar o processo de escrever e manter código paralelo e multithread.</p>
<p>Alguns casos de uso*:</p>
<ul>
<li>Mantendo uma interface do usuário responsiva executando o trabalho em segundo plano em uma tarefa separada</li>
<li>Distribuir a carga de trabalho</li>
<li>Permitir que um aplicativo cliente envie e receba solicitações ao mesmo tempo (rest, TCP/UDP, ect)</li>
<li>Ler e/ou gravar vários arquivos de uma só vez</li>
</ul>
<p>*O código deve ser considerado caso a caso para multithreading. Por exemplo, se um loop tiver apenas algumas iterações ou fizer apenas uma pequena quantidade de trabalho, a sobrecarga do paralelismo pode superar os benefícios.</p>
<p><strong>TPL com .Net 3.5</strong></p>
<p>O TPL também está disponível para .Net 3.5 incluído em um pacote NuGet, é chamado de Biblioteca Paralela de Tarefas.</p>
<h2 id="loop-produtor-consumidor-básico-blockingcollection">Loop produtor-consumidor básico (BlockingCollection) <a href="#loop-produtor-consumidor-b%c3%a1sico-blockingcollection" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var collection = new BlockingCollection&lt;int&gt;(5);
var random = new Random();

var producerTask = Task.Run(() =&gt; {
    for(int item=1; item&lt;=10; item++) 
    {
        collection.Add(item);
        Console.WriteLine(&quot;Produced: &quot; + item);
        Thread.Sleep(random.Next(10,1000));
    }
    collection.CompleteAdding();
    Console.WriteLine(&quot;Producer completed!&quot;);
});
</code></pre>
<p>Vale a pena notar que se você não chamar <code>collection.CompleteAdding();</code>, você poderá continuar adicionando à coleção mesmo se sua tarefa de consumidor estiver em execução. Basta chamar <code>collection.CompleteAdding();</code> quando tiver certeza de que não há mais adições. Essa funcionalidade pode ser usada para criar um padrão Multiple Producer para um Single Consumer onde você tem várias fontes alimentando itens no BlockingCollection<T> e um único consumidor retirando itens e fazendo algo com eles. Se seu BlockingCollection<T> estiver vazio antes de você chamar a adição completa, o Enumerable de <code>collection.GetConsumingEnumerable()</code> será bloqueado até que um novo item seja adicionado à coleção ou BlockingCollection<T>.CompleteAdding(); é chamado e a fila está vazia.</p>
<pre><code>var consumerTask = Task.Run(() =&gt; {
    foreach(var item in collection.GetConsumingEnumerable())
    {
        Console.WriteLine(&quot;Consumed: &quot; + item);
        Thread.Sleep(random.Next(10,1000));
    }
    Console.WriteLine(&quot;Consumer completed!&quot;);
});
  
Task.WaitAll(producerTask, consumerTask);
       
Console.WriteLine(&quot;Everything completed!&quot;);
</code></pre>
<h2 id="paraleloinvoke">Paralelo.Invoke <a href="#paraleloinvoke" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var actions = Enumerable.Range(1, 10).Select(n =&gt; new Action(() =&gt;
{
    Console.WriteLine(&quot;I'm task &quot; + n);
    if((n &amp; 1) == 0)
        throw new Exception(&quot;Exception from task &quot; + n);
})).ToArray();

try
{
    Parallel.Invoke(actions);
}
catch(AggregateException ex)
{
    foreach(var inner in ex.InnerExceptions)
        Console.WriteLine(&quot;Task failed: &quot; + inner.Message);
}
</code></pre>
<h2 id="tarefa-instanciação-básica-e-espera">Tarefa: instanciação básica e espera <a href="#tarefa-instancia%c3%a7%c3%a3o-b%c3%a1sica-e-espera" class="anchor" aria-hidden="true">#</a></h2>
<p>Uma tarefa pode ser criada instanciando diretamente a classe <code>Task</code>&hellip;</p>
<pre><code>var task = new Task(() =&gt;
{
    Console.WriteLine(&quot;Task code starting...&quot;);
    Thread.Sleep(2000);
    Console.WriteLine(&quot;...task code ending!&quot;);
});

Console.WriteLine(&quot;Starting task...&quot;);
task.Start();
task.Wait();
Console.WriteLine(&quot;Task completed!&quot;);
</code></pre>
<p>&hellip;ou usando o método estático <code>Task.Run</code>:</p>
<pre><code>Console.WriteLine(&quot;Starting task...&quot;);
var task = Task.Run(() =&gt;
{
    Console.WriteLine(&quot;Task code starting...&quot;);
    Thread.Sleep(2000);
    Console.WriteLine(&quot;...task code ending!&quot;);
});
task.Wait();
Console.WriteLine(&quot;Task completed!&quot;);
</code></pre>
<p>Note que apenas no primeiro caso é necessário invocar explicitamente <code>Start</code>.</p>
<h2 id="tarefawhenall">Tarefa.WhenAll <a href="#tarefawhenall" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var random = new Random();
IEnumerable&lt;Task&lt;int&gt;&gt; tasks = Enumerable.Range(1, 5).Select(n =&gt; Task.Run(() =&gt;
{
    Console.WriteLine(&quot;I'm task &quot; + n);
    return n;
}));

Task&lt;int[]&gt; task = Task.WhenAll(tasks);
int[] results = await task;

Console.WriteLine(string.Join(&quot;,&quot;, results.Select(n =&gt; n.ToString())));
// Output: 1,2,3,4,5
</code></pre>
<h2 id="parallelforeach">Parallel.ForEach <a href="#parallelforeach" class="anchor" aria-hidden="true">#</a></h2>
<p>Este exemplo usa <code>Parallel.ForEach</code> para calcular a soma dos números entre 1 e 10.000 usando vários segmentos. Para alcançar a segurança de thread, <code>Interlocked.Add</code> é usado para somar os números.</p>
<pre><code>using System.Threading;

int Foo()
{
    int total = 0;
    var numbers = Enumerable.Range(1, 10000).ToList();
    Parallel.ForEach(numbers, 
        () =&gt; 0, // initial value,
        (num, state, localSum) =&gt; num + localSum,
        localSum =&gt; Interlocked.Add(ref total, localSum));
    return total; // total = 50005000
}
</code></pre>
<h2 id="paralelopara">Paralelo.Para <a href="#paralelopara" class="anchor" aria-hidden="true">#</a></h2>
<p>Este exemplo usa <code>Parallel.For</code> para calcular a soma dos números entre 1 e 10.000 usando vários segmentos. Para alcançar a segurança de thread, <code>Interlocked.Add</code> é usado para somar os números.</p>
<pre><code>using System.Threading;

int Foo()
{
    int total = 0;
    Parallel.For(1, 10001, 
        () =&gt; 0, // initial value,
        (num, state, localSum) =&gt; num + localSum,
        localSum =&gt; Interlocked.Add(ref total, localSum));
    return total; // total = 50005000
}
</code></pre>
<h2 id="tarefa-retornando-um-valor">Tarefa: Retornando um valor <a href="#tarefa-retornando-um-valor" class="anchor" aria-hidden="true">#</a></h2>
<p>A tarefa que retorna um valor tem o tipo de retorno <code>Task&lt; TResult &gt;</code> onde TResult é o tipo de valor que precisa ser retornado. Você pode consultar o resultado de uma tarefa por sua propriedade Result.</p>
<pre><code>Task&lt;int&gt; t = Task.Run(() =&gt; 
    {
        int sum = 0;

        for(int i = 0; i &lt; 500; i++)
            sum += i;

        return sum;
    });

Console.WriteLine(t.Result); // Outuput 124750
</code></pre>
<p>Se a tarefa for executada de forma assíncrona, aguardar a tarefa retornará seu resultado.</p>
<pre><code>public async Task DoSomeWork()
{
    WebClient client = new WebClient();
    // Because the task is awaited, result of the task is assigned to response
    string response = await client.DownloadStringTaskAsync(&quot;http://somedomain.com&quot;);
}
</code></pre>
<h2 id="tarefa-waitall-e-captura-de-variáveis">Tarefa: WaitAll e captura de variáveis <a href="#tarefa-waitall-e-captura-de-vari%c3%a1veis" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var tasks = Enumerable.Range(1, 5).Select(n =&gt; new Task&lt;int&gt;(() =&gt;
{
    Console.WriteLine(&quot;I'm task &quot; + n);
    return n;
})).ToArray();

foreach(var task in tasks) task.Start();
Task.WaitAll(tasks);

foreach(var task in tasks)
    Console.WriteLine(task.Result);
</code></pre>
<h2 id="tarefa-waitany">Tarefa: WaitAny <a href="#tarefa-waitany" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var allTasks = Enumerable.Range(1, 5).Select(n =&gt; new Task&lt;int&gt;(() =&gt; n)).ToArray();
var pendingTasks = allTasks.ToArray();

foreach(var task in allTasks) task.Start();

while(pendingTasks.Length &gt; 0)
{
    var finishedTask = pendingTasks[Task.WaitAny(pendingTasks)];
    Console.WriteLine(&quot;Task {0} finished&quot;, finishedTask.Result);
    pendingTasks = pendingTasks.Except(new[] {finishedTask}).ToArray();
}

Task.WaitAll(allTasks);
</code></pre>
<p><strong>Nota:</strong> O <code>WaitAll</code> final é necessário porque <code>WaitAny</code> não faz com que exceções sejam observadas.</p>
<h2 id="tarefa-tratamento-de-exceções-usando-wait">Tarefa: tratamento de exceções (usando Wait) <a href="#tarefa-tratamento-de-exce%c3%a7%c3%b5es-usando-wait" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var task1 = Task.Run(() =&gt;
{
    Console.WriteLine(&quot;Task 1 code starting...&quot;);
    throw new Exception(&quot;Oh no, exception from task 1!!&quot;);
});

var task2 = Task.Run(() =&gt;
{
    Console.WriteLine(&quot;Task 2 code starting...&quot;);
    throw new Exception(&quot;Oh no, exception from task 2!!&quot;);
});

Console.WriteLine(&quot;Starting tasks...&quot;);
try
{
    Task.WaitAll(task1, task2);
}
catch(AggregateException ex)
{
    Console.WriteLine(&quot;Task(s) failed!&quot;);
    foreach(var inner in ex.InnerExceptions)
        Console.WriteLine(inner.Message);
}

Console.WriteLine(&quot;Task 1 status is: &quot; + task1.Status); //Faulted
Console.WriteLine(&quot;Task 2 status is: &quot; + task2.Status); //Faulted
</code></pre>
<h2 id="tarefa-tratamento-de-exceções-sem-usar-wait">Tarefa: tratamento de exceções (sem usar Wait) <a href="#tarefa-tratamento-de-exce%c3%a7%c3%b5es-sem-usar-wait" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var task1 = Task.Run(() =&gt;
{
    Console.WriteLine(&quot;Task 1 code starting...&quot;);
    throw new Exception(&quot;Oh no, exception from task 1!!&quot;);
});

var task2 = Task.Run(() =&gt;
{
    Console.WriteLine(&quot;Task 2 code starting...&quot;);
    throw new Exception(&quot;Oh no, exception from task 2!!&quot;);
});

var tasks = new[] {task1, task2};

Console.WriteLine(&quot;Starting tasks...&quot;);
while(tasks.All(task =&gt; !task.IsCompleted));

foreach(var task in tasks)
{
    if(task.IsFaulted)
        Console.WriteLine(&quot;Task failed: &quot; +
            task.Exception.InnerExceptions.First().Message);
}

Console.WriteLine(&quot;Task 1 status is: &quot; + task1.Status); //Faulted
Console.WriteLine(&quot;Task 2 status is: &quot; + task2.Status); //Faulted
</code></pre>
<h2 id="tarefa-cancelando-usando-cancellationtoken">Tarefa: cancelando usando CancellationToken <a href="#tarefa-cancelando-usando-cancellationtoken" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var cancellationTokenSource = new CancellationTokenSource();
var cancellationToken = cancellationTokenSource.Token;

var task = new Task((state) =&gt;
    {
        int i = 1;
        var myCancellationToken = (CancellationToken)state;
        while(true)
        {
            Console.Write(&quot;{0} &quot;, i++);
            Thread.Sleep(1000);
            myCancellationToken.ThrowIfCancellationRequested();
        }
    },
    cancellationToken: cancellationToken,
    state: cancellationToken);

Console.WriteLine(&quot;Counting to infinity. Press any key to cancel!&quot;);
task.Start();
Console.ReadKey();

cancellationTokenSource.Cancel();
try
{
    task.Wait();
}
catch(AggregateException ex)
{
    ex.Handle(inner =&gt; inner is OperationCanceledException);
}

Console.WriteLine($&quot;{Environment.NewLine}You have cancelled! Task status is: {task.Status}&quot;);
//Canceled
</code></pre>
<p>Como alternativa a <code>ThrowIfCancellationRequested</code>, a solicitação de cancelamento pode ser detectada com <code>IsCancellationRequested</code> e uma <code>OperationCanceledException</code> pode ser lançada manualmente:</p>
<pre><code>//New task delegate
int i = 1;
var myCancellationToken = (CancellationToken)state;
while(!myCancellationToken.IsCancellationRequested)
{
    Console.Write(&quot;{0} &quot;, i++);
    Thread.Sleep(1000);
}
Console.WriteLine($&quot;{Environment.NewLine}Ouch, I have been cancelled!!&quot;);
throw new OperationCanceledException(myCancellationToken);
</code></pre>
<p>Observe como o token de cancelamento é passado para o construtor da tarefa no parâmetro <code>cancellationToken</code>. Isso é necessário para que a tarefa mude para o estado <code>Cancelado</code>, não para o estado <code>Falha</code>, quando <code>ThrowIfCancellationRequested</code> for invocado. Além disso, pelo mesmo motivo, o token de cancelamento é fornecido explicitamente no construtor de <code>OperationCanceledException</code> no segundo caso.</p>
<h2 id="tarefawhenany">Tarefa.WhenAny <a href="#tarefawhenany" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>var random = new Random();
IEnumerable&lt;Task&lt;int&gt;&gt; tasks = Enumerable.Range(1, 5).Select(n =&gt; Task.Run(async() =&gt;
{
    Console.WriteLine(&quot;I'm task &quot; + n);
    await Task.Delay(random.Next(10,1000));
    return n;
}));

Task&lt;Task&lt;int&gt;&gt; whenAnyTask = Task.WhenAny(tasks);
Task&lt;int&gt; completedTask = await whenAnyTask;
Console.WriteLine(&quot;The winner is: task &quot; + await completedTask);

await Task.WhenAll(tasks);
Console.WriteLine(&quot;All tasks finished!&quot;);
</code></pre>
<h2 id="contexto-de-execução-fluindo-com-asynclocal">Contexto de execução fluindo com AsyncLocal <a href="#contexto-de-execu%c3%a7%c3%a3o-fluindo-com-asynclocal" class="anchor" aria-hidden="true">#</a></h2>
<p>Quando você precisar passar alguns dados da tarefa pai para suas tarefas filhas, para que flua logicamente com a execução, use <code>AsyncLocal</code> <a href="https://msdn.microsoft.com/en-us/library/dn906268(v=vs.110).aspx">class</a>:</p>
<pre><code>void Main()
{
    AsyncLocal&lt;string&gt; user = new AsyncLocal&lt;string&gt;();
    user.Value = &quot;initial user&quot;;
    
    // this does not affect other tasks - values are local relative to the branches of execution flow
    Task.Run(() =&gt; user.Value = &quot;user from another task&quot;); 
    
    var task1 = Task.Run(() =&gt;
    {
        Console.WriteLine(user.Value); // outputs &quot;initial user&quot;
        Task.Run(() =&gt;
        {
            // outputs &quot;initial user&quot; - value has flown from main method to this task without being changed
            Console.WriteLine(user.Value);
        }).Wait();

        user.Value = &quot;user from task1&quot;;

        Task.Run(() =&gt;
        {
            // outputs &quot;user from task1&quot; - value has flown from main method to task1
            // than value was changed and flown to this task.
            Console.WriteLine(user.Value);
        }).Wait();
    });
    
    task1.Wait();
    
    // ouputs &quot;initial user&quot; - changes do not propagate back upstream the execution flow    
    Console.WriteLine(user.Value); 
}
</code></pre>
<p><strong>Observação:</strong> Como pode ser visto no exemplo acima, <code>AsynLocal.Value</code> tem a semântica <code>copy on read</code>, mas se você fluir algum tipo de referência e alterar suas propriedades, afetará outras tarefas. Portanto, a melhor prática com <code>AsyncLocal</code> é usar tipos de valor ou tipos imutáveis.</p>
<h2 id="parallelforeach-em-vbnet">Parallel.ForEach em VB.NET <a href="#parallelforeach-em-vbnet" class="anchor" aria-hidden="true">#</a></h2>
<pre><code>For Each row As DataRow In FooDataTable.Rows
    Me.RowsToProcess.Add(row)
Next

Dim myOptions As ParallelOptions = New ParallelOptions()
myOptions.MaxDegreeOfParallelism = environment.processorcount

Parallel.ForEach(RowsToProcess, myOptions, Sub(currentRow, state)
                                               ProcessRowParallel(currentRow, state)
                                           End Sub)
</code></pre>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				</div>
			<div class="docs-navigation d-flex justify-content-between">
	
	
		<a href="/pt/dotnet/serializacao-json/">
						<div class="card my-1">
							<div class="card-body py-2">
								&larr; Serialização JSON
							</div>
						</div>
					</a>
				<a class="ms-auto" href="/pt/dotnet/excecoes/">
						<div class="card my-1">
							<div class="card-body py-2">
								Exceções &rarr;
							</div>
						</div>
					</a>
				
	
	</div>

			
		</main>
	</div>

      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-xxl">
    <div class="row">
      <div class="col-lg-8 order-last order-lg-first">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright © 2018-2022 Wikiod.</li>
        </ul>
      </div>
      <div class="col-lg-8 order-first order-lg-last text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item"><a href="/pt/about/">cerca de</a></li>
          <li class="list-inline-item"><a href="/pt/disclaimers/">Isenções de responsabilidade</a></li>
          <li class="list-inline-item"><a href="/pt/dcma/">DCMA</a></li>
          <li class="list-inline-item"><a href="/pt/terms-of-use/">Termos de uso</a></li>
          <li class="list-inline-item"><a href="/pt/privacy-policy/">Política de Privacidade</a></li>
          </ul>
      </div>
    </div>
  </div>
</footer>
    

<script src="/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js" integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51&#43;L6gymJi4Qg==" crossorigin="anonymous" defer></script>
  <script src="/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js" integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin="anonymous" defer></script>
  <script src="/main.min.4971645518aa07968852c38e2c8051abe697181395ad03d5fa0eb28e42edf5f54f801de05c98298ce77b65223caf97b7ea259fbca096e64b3840985ec069e2ef.js" integrity="sha512-SXFkVRiqB5aIUsOOLIBRq&#43;aXGBOVrQPV&#43;g6yjkLt9fVPgB3gXJgpjOd7ZSI8r5e36iWfvKCW5ks4QJhewGni7w==" crossorigin="anonymous" defer></script>
  
    
  </body>
</html>