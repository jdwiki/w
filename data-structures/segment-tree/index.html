<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-500.woff2" type="font/woff2" crossorigin>
<link rel="preload" as="font" href="https://www.wikiod.com/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin>

  <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>

  <link rel="stylesheet" href="https://www.wikiod.com/main.43b0b023adae2e6795d9e4443770a29ec36c5d80b552b920a387882f38dd59fc45f95bfed41ea5491dbbc99f117f2037d021e7a3764c15fcb25d77146327b1af.css" integrity="sha512-Q7CwI62uLmeV2eREN3CinsNsXYC1Urkgo4eILzjdWfxF&#43;Vv&#43;1B6lSR27yZ8RfyA30CHno3ZMFfyyXXcUYyexrw==" crossorigin="anonymous">
<noscript><style>img.lazyload { display: none; }</style></noscript>
  <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <title>Segment Tree - WikiOD</title>
<meta name="description" content="Introduction To Segment Tree # Suppose we have an array:
&#43;-------&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43; | Index | 0 | 1 | 2 | 3 | 4 | 5 | &#43;-------&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43; | Value | -1 | 3 | 4 | 0 | 2 | 1 | &#43;-------&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43; We want to perform some query on this array. For example:
What is the minimum from index-2 to index-4? -&amp;gt; 0 What is the maximum from index-0 to index-3?">
  <link rel="canonical" href="https://www.wikiod.com/data-structures/segment-tree/">
<meta property="og:locale" content="en">
<meta property="og:type" content="article">
<meta property="og:title" content="Segment Tree">
<meta property="og:description" content="Introduction To Segment Tree # Suppose we have an array:
&#43;-------&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43; | Index | 0 | 1 | 2 | 3 | 4 | 5 | &#43;-------&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43; | Value | -1 | 3 | 4 | 0 | 2 | 1 | &#43;-------&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43;-----&#43; We want to perform some query on this array. For example:
What is the minimum from index-2 to index-4? -&gt; 0 What is the maximum from index-0 to index-3?">
<meta property="og:url" content="https://www.wikiod.com/data-structures/segment-tree/">
<meta property="og:site_name" content="WikiOD">

  <meta property="og:image" content="https://www.wikiod.com/wikiod_logo.png"/>
      <meta property="og:image:alt" content="WikiOD">
    
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@wikiod">
<meta name="twitter:creator" content="@wikiod">
<meta name="twitter:title" content="Segment Tree">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://www.wikiod.com/wikiod_logo.png">
    <meta name="twitter:image:alt" content="Segment Tree">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
        "@id": "https://www.wikiod.com/#/schema/organization/1",
      "name": "WikiOD",
      "url": "https://www.wikiod.com/",
      "sameAs": [
        "https://twitter.com/wikiod"
        , "https://github.com/wikiod-com"
        ],
      "logo": {
          "@type": "ImageObject",
          "@id": "https://www.wikiod.com/#/schema/image/1",
          "url": "https://www.wikiod.com/wikiod_logo.png",
          "width":  512 ,
          "height":  512 ,
          "caption": "WikiOD"
        },
        "image": {
          "@id": "https://www.wikiod.com/#/schema/image/1"
        }
      },
    {
      "@type": "WebSite",
      "@id": "https://www.wikiod.com/#/schema/website/1",
      "url": "https://www.wikiod.com/",
      "name": "WikiOD",
      "description": "Welcome to WikiOD - Wiki Online Documentation WikiOD is a collaborative writing project to build the highest quality online documentation of all programming languages, education-related subjects and concepts.",
      "publisher": {
          "@id": "https://www.wikiod.com/#/schema/organization/1"
        }
      },
    {
      "@type": "WebPage",
      "@id": "https://www.wikiod.com/data-structures/segment-tree/",
      "url": "https://www.wikiod.com/data-structures/segment-tree/",
      "name": "Segment Tree",
      "description": "",
      "isPartOf": {
        "@id": "https://www.wikiod.com/#/schema/website/1"
      },
      "about": {
          "@id": "https://www.wikiod.com/#/schema/organization/1"
        },
      "datePublished": "0001-01-01T00:00:00CET",
      "dateModified": "0001-01-01T00:00:00CET",
      "breadcrumb": {
        "@id": "https://www.wikiod.com/data-structures/segment-tree/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "https://www.wikiod.com/data-structures/segment-tree/#/schema/image/2"
      },
      "inLanguage": "en",
      "potentialAction": [{
        "@type": "ReadAction", "target": ["https://www.wikiod.com/data-structures/segment-tree/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://www.wikiod.com/data-structures/segment-tree/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/",
          "url": "https://www.wikiod.com/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://www.wikiod.com/data-structures/",
          "url": "https://www.wikiod.com/data-structures/",
          "name": "Data Structures"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@id": "https://www.wikiod.com/data-structures/segment-tree/"
          }
        }]
    },

    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Article",
          "@id": "https://www.wikiod.com/#/schema/article/1",
          "headline": "Segment Tree",
          "description": "",
          "isPartOf": {
            "@id": "https://www.wikiod.com/data-structures/segment-tree/"
          },
          "mainEntityOfPage": {
            "@id": "https://www.wikiod.com/data-structures/segment-tree/"
          },
          "datePublished": "0001-01-01T00:00:00CET",
          "dateModified": "0001-01-01T00:00:00CET",
          "author": {
            "@id": "https://www.wikiod.com/#/schema/person/2"
          },
          "publisher": {
              "@id": "https://www.wikiod.com/#/schema/organization/1"
            },
          "image": {
            "@id": "https://www.wikiod.com/data-structures/segment-tree/#/schema/image/2"
          }
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Person",
          "@id": "https://www.wikiod.com/#/schema/person/2",
          "name": "WikiOD",
          "sameAs": [
            "https://twitter.com/wikiod"
            , "https://github.com/wikiod-com"
            ]
        }
      ]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "https://www.wikiod.com/data-structures/segment-tree/#/schema/image/2",
          "url": "https://www.wikiod.com/wikiod_logo.png",
          "contentUrl": "https://www.wikiod.com/wikiod_logo.png",
          "caption": "Segment Tree"
        }
      ]
    }

  ]
}
</script>

  <meta name="theme-color" content="#fff">
<link rel="icon" href="https://www.wikiod.com/favicon.ico" sizes="any">
<link rel="apple-touch-icon" sizes="180x180" href="https://www.wikiod.com/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.wikiod.com/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.wikiod.com/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="https://www.wikiod.com/site.webmanifest">

  
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9345677191971886" crossorigin="anonymous"></script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y7ZZF8Q2L4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y7ZZF8Q2L4');
</script>

</head>

  <body class="docs single">
    <div class="sticky-top">
<div class="header-bar"></div>

<header class="navbar navbar-expand-lg navbar-light doks-navbar">
  <nav class="container-xxl flex-wrap flex-lg-nowrap" aria-label="Main navigation">

    <a class="navbar-brand order-0" href="/" aria-label="WikiOD">
      WikiOD
    </a>

    <button class="btn btn-link order-0 ms-auto d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg>
    </button>
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
      <div class="header-bar"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasExampleLabel">Browse docs</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <aside class="doks-sidebar mt-n3">
          <nav id="doks-docs-nav" aria-label="Tertiary navigation">
            

  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/docs/data-structures/"><h3 class="h6 text-uppercase mb-2">data-structures Tutorial</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/getting-started-with-data-structures/">Getting started with data-structures</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/linked-list/">Linked List</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/trie-prefix-treeradix-tree/">Trie (Prefix TreeRadix Tree)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/binary-search-tree/">Binary Search Tree</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/stack/">Stack</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/queue/">Queue</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/data-structures/segment-tree/">Segment Tree</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/graph-traversals/">Graph traversals</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/dequedouble-ended-queue/">Deque(Double ended queue)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/matrices/">Matrices</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/union-find-data-structure/">Union-find data structure</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/binary-heap/">Binary Heap</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


          </nav>
        </aside>
      </div>
    </div>
    <button class="btn btn-menu order-2 d-block d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>
    <div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel">
      <div class="header-bar d-lg-none"></div>
      <div class="offcanvas-header d-lg-none">
        <h2 class="h5 offcanvas-title ps-2" id="offcanvasDoksLabel"><a class="text-dark" href="/">WikiOD</a></h2>
        <button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button>
      </div>
      <div class="offcanvas-body p-4 p-lg-0">
        <ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto">
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/docs/">Tutorials</a>
              </li>
            
          
              <li class="nav-item">
                <a class="nav-link ps-0 py-1" href="/blog/">Articles</a>
              </li>
            
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <ul class="nav flex-column flex-lg-row">
          </ul>

        <hr class="text-black-50 my-4 d-lg-none">
        <button id="mode" class="btn btn-link" type="button" aria-label="Toggle user interface mode">
          <span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
          <span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
        </button>
        <hr class="text-black-50 my-4 d-lg-none">
        <div class="dropdown">
          <button class="btn btn-doks-light dropdown-toggle" id="doks-languages" data-bs-toggle="dropdown" aria-expanded="false" data-bs-display="static">
            English
            <span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
          </button>
          <ul class="dropdown-menu dropdown-menu-lg-end me-lg-2 shadow rounded border-0" aria-labelledby="doks-languages">

            <li><a class="dropdown-item current" aria-current="true" href="/data-structures/segment-tree/">English</a></li>

            <li><hr class="dropdown-divider"></li>

            
                  <li><a class="dropdown-item" rel="alternate" href="/es" hreflang="es" lang="es">Español</a></li>
                
                  <li><a class="dropdown-item" rel="alternate" href="/fr" hreflang="fr" lang="fr">Français</a></li>
                
                  <li><a class="dropdown-item" rel="alternate" href="/pt" hreflang="pt" lang="pt">Português</a></li>
                
                  <li><a class="dropdown-item" rel="alternate" href="/tr" hreflang="tr" lang="tr">Türk</a></li>
                
          </ul>
        </div>
        </div>
    </div>
  </nav>
</header>


</div>
<div class="container-xxl">
  <aside class="doks-sidebar">
    <nav id="doks-docs-nav" class="collapse d-lg-none" aria-label="Tertiary navigation">
      

  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/docs/data-structures/"><h3 class="h6 text-uppercase mb-2">data-structures Tutorial</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/getting-started-with-data-structures/">Getting started with data-structures</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/linked-list/">Linked List</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/trie-prefix-treeradix-tree/">Trie (Prefix TreeRadix Tree)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/binary-search-tree/">Binary Search Tree</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/stack/">Stack</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/queue/">Queue</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/data-structures/segment-tree/">Segment Tree</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/graph-traversals/">Graph traversals</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/dequedouble-ended-queue/">Deque(Double ended queue)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/matrices/">Matrices</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/union-find-data-structure/">Union-find data structure</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/binary-heap/">Binary Heap</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


    </nav>
  </aside>
</div>


    <div class="wrap container-xxl" role="document">
      <div class="content">
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block">
			<nav id="sidebar-default" class="docs-links" aria-label="Main navigation">
				

  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
    
    <a href="https://www.wikiod.com/docs/data-structures/"><h3 class="h6 text-uppercase mb-2">data-structures Tutorial</h3></a>
    <ul class="list-unstyled">
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/getting-started-with-data-structures/">Getting started with data-structures</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/linked-list/">Linked List</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/trie-prefix-treeradix-tree/">Trie (Prefix TreeRadix Tree)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/binary-search-tree/">Binary Search Tree</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/stack/">Stack</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/queue/">Queue</a></li>
        
      
      
        
          
          <li><a class="docs-link active" href="https://www.wikiod.com/data-structures/segment-tree/">Segment Tree</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/graph-traversals/">Graph traversals</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/dequedouble-ended-queue/">Deque(Double ended queue)</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/matrices/">Matrices</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/union-find-data-structure/">Union-find data structure</a></li>
        
      
      
        
          
          <li><a class="docs-link" href="https://www.wikiod.com/data-structures/binary-heap/">Binary Heap</a></li>
        
      
    </ul>
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  


			</nav>
		</div>
		<nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>On this page</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-to-segment-tree">Introduction To Segment Tree</a></li>
    <li><a href="#implementation-of-segment-tree-using-array">Implementation of Segment Tree Using Array</a></li>
    <li><a href="#performing-a-range-minimum-query">Performing a Range Minimum Query</a></li>
    <li><a href="#lazy-propagation">Lazy Propagation</a></li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>On this page</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-to-segment-tree">Introduction To Segment Tree</a></li>
    <li><a href="#implementation-of-segment-tree-using-array">Implementation of Segment Tree Using Array</a></li>
    <li><a href="#performing-a-range-minimum-query">Performing a Range Minimum Query</a></li>
    <li><a href="#lazy-propagation">Lazy Propagation</a></li>
  </ul>
</nav>
  </div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb">
						<li class="breadcrumb-item"><a href="/">Home</a></li>
<li class="breadcrumb-item"><a href="/docs/">Docs</a></li>
<li class="breadcrumb-item"><a href="/docs/data-structures/">data-structures Tutorial</a></li>
<li class="breadcrumb-item active" aria-current="page">Segment Tree</li>
					</ol>
				</nav>
			
			<h1>Segment Tree</h1>
			<p class="lead"></p>
			<nav class="d-xl-none" aria-label="Quaternary navigation">
				<div class="d-xl-none">
  <button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
    <span>On this page</span>
    <span>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg>
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg>
    </span>
  </button>
  <div class="collapse" id="onThisPage">
    <div class="card card-body mt-3 py-1">
      <div class="page-links">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-to-segment-tree">Introduction To Segment Tree</a></li>
    <li><a href="#implementation-of-segment-tree-using-array">Implementation of Segment Tree Using Array</a></li>
    <li><a href="#performing-a-range-minimum-query">Performing a Range Minimum Query</a></li>
    <li><a href="#lazy-propagation">Lazy Propagation</a></li>
  </ul>
</nav>
      </div>
    </div>
  </div>
</div>
<div class="page-links d-none d-xl-block">
  <h3>On this page</h3>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction-to-segment-tree">Introduction To Segment Tree</a></li>
    <li><a href="#implementation-of-segment-tree-using-array">Implementation of Segment Tree Using Array</a></li>
    <li><a href="#performing-a-range-minimum-query">Performing a Range Minimum Query</a></li>
    <li><a href="#lazy-propagation">Lazy Propagation</a></li>
  </ul>
</nav>
  </div>

			</nav>
			<h2 id="introduction-to-segment-tree">Introduction To Segment Tree <a href="#introduction-to-segment-tree" class="anchor" aria-hidden="true">#</a></h2>
<p>Suppose we have an array:</p>
<pre><code>+-------+-----+-----+-----+-----+-----+-----+
| Index |  0  |  1  |  2  |  3  |  4  |  5  |
+-------+-----+-----+-----+-----+-----+-----+
| Value |  -1 |  3  |  4  |  0  |  2  |  1  |
+-------+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>We want to perform some query on this array. For example:</p>
<ul>
<li>What is the minimum from index-<strong>2</strong> to index-<strong>4</strong>?   -&gt; 0</li>
<li>What is the maximum from index-<strong>0</strong> to index-<strong>3</strong>?   -&gt; 4</li>
<li>What is the summation from index-<strong>1</strong> to index-<strong>5</strong>? -&gt; 10</li>
</ul>
<p>How do we find it out?</p>
<p><strong>Brute Force:</strong><br/>
We could traverse the array from the starting index to the finishing index and answer our query. In this approach, each query takes <code>O(n)</code> time where <strong>n</strong> is the difference between the starting index and finishing index. But what if there are millions of numbers and millions of queries? For <strong>m</strong> queries, it would take <code>O(mn)</code> time. So for 10⁵ values in our array, if we conduct 10⁵ queries, for worst case, we&rsquo;ll need to traverse 10¹⁰ items.</p>
<p><strong>Dynamic Programming:</strong><br/>
We can create a 6X6 matrix to store the values for different ranges. For range minimum query(RMQ), our array would look like:</p>
<pre><code>              0     1     2     3     4     5
     +-----+-----+-----+-----+-----+-----+-----+
     |     |  -1 |  3  |  4  |  0  |  2  |  1  |
     +-----+-----+-----+-----+-----+-----+-----+
  0  |  -1 |  -1 |  -1 |  -1 |  -1 |  -1 |  -1 |
     +-----+-----+-----+-----+-----+-----+-----+
  1  |  3  |     |  3  |  3  |  0  |  0  |  0  |
     +-----+-----+-----+-----+-----+-----+-----+
  2  |  4  |     |     |  4  |  0  |  0  |  0  |
     +-----+-----+-----+-----+-----+-----+-----+
  3  |  0  |     |     |     |  0  |  0  |  0  |
     +-----+-----+-----+-----+-----+-----+-----+
  4  |  2  |     |     |     |     |  2  |  1  |
     +-----+-----+-----+-----+-----+-----+-----+
  5  |  1  |     |     |     |     |     |  1  |
     +-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>Once we have this matrix build, it would be sufficient to answer all the RMQs. Here, <strong>Matrix[i][j]</strong> would store the minimum value from index-<strong>i</strong> to index-<strong>j</strong>. For example: The minimum from index-<strong>2</strong> to index-<strong>4</strong> is <strong>Matrix[2][4]</strong> = <strong>0</strong>. This matrix answers the query in <code>O(1)</code> time, but it takes <strong>O(n²)</strong> time to build this matrix and <code>O(n²)</code> space to store it. So if <strong>n</strong> is a really big number, this doesn&rsquo;t scale very well.</p>
<p><strong>Segment Tree:</strong><br/>
A <a href="https://en.wikipedia.org/wiki/Segment_tree">segment tree</a> is a tree data structure for storing intervals, or segments. It allows querying which of the stored segments contain a given point. It takes <code>O(n)</code> time to build a segment tree, it takes <code>O(n)</code> space to maintain it and it answers a query in <code>O(logn)</code> time.</p>
<p>Segment tree is a binary tree and the elements of the given array will be the leaves of that tree. We&rsquo;ll create the segment tree by dividing the array in half till we reach a single element. So our division would provide us with:</p>
<p><a href="https://i.stack.imgur.com/wTS4a.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/wTS4a.png" alt="Segmented Array"></a></p>
<p>Now if we replace the non-leaf nodes with the minimum value of their leaves, we get:</p>
<p><a href="https://i.stack.imgur.com/xtnxJ.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/xtnxJ.png" alt="Minimum values replaced"></a></p>
<p>So this is our segment tree. We can notice that, the root node contains the minimum value of the whole array(range [0,5]), its left child contains the minimum value of our left array(range [0,2]), right child contains the minimum value of our right array(range [3,5]) and so on. The leaf nodes contain minimum value of each individual points. We get:</p>
<p><a href="https://i.stack.imgur.com/2vCca.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/2vCca.png" alt="Segment Tree"></a></p>
<p>Now let&rsquo;s do a range query on this tree. To do a range query, we need to check three conditions:</p>
<ul>
<li>Partial Overlap: We check both leaves.</li>
<li>Total Overlap: We return the value stored in the node.</li>
<li>No Overlap: We return a very large value or infinity.</li>
</ul>
<p>Let&rsquo;s say, we want to check range <strong>[2,4]</strong>, that means we want to find the minimum from index-<strong>2</strong> to <strong>4</strong>. We&rsquo;ll start from the root and check if the range in our nodes is overlapped by our query range or not. Here,</p>
<ul>
<li><strong>[2,4]</strong> doesn&rsquo;t completely overlap <strong>[0,5]</strong>. So we&rsquo;ll check both directions.
<ul>
<li>At left subtree, <strong>[2,4]</strong> partially overlaps <strong>[0,2]</strong>. We&rsquo;ll check both directions.
<ul>
<li>At left subtree, <strong>[2,4]</strong> does not overlap <strong>[0,1]</strong>, so this is not going to contribute to our answer. We return <strong>infinity</strong>.</li>
<li>At right subtree, <strong>[2,4]</strong> totally overlaps <strong>[2,2]</strong>. We return <strong>4</strong>.<br/>
The minimum of these two returned values(4, infinity) is <strong>4</strong>. We get <strong>4</strong> from this portion.</li>
</ul>
</li>
<li>At right subtree, <strong>[2,4]</strong> partially overlaps. So we&rsquo;ll check both directions.
<ul>
<li>At left subtree, <strong>[2,4]</strong> completely overlaps <strong>[3,4]</strong>. We return <strong>0</strong>.</li>
<li>At right subtree, <strong>[2,4]</strong> doesn&rsquo;t overlap <strong>[5,5]</strong>. We return <strong>infinity</strong>.<br/>
The minimum of these two returned values(0, infinity) is <strong>0</strong>. We get <strong>0</strong> from this portion.</li>
</ul>
</li>
</ul>
</li>
<li>The minimum of the returned values(4,0) is <strong>0</strong>. This is our desired minimum in range <strong>[2,4]</strong>.</li>
</ul>
<p>Now we can check that, no matter what our query is, it would take maximum <strong>4</strong> steps to find the desired value from this segment tree.</p>
<p><strong>Use:</strong><br/></p>
<ul>
<li>Range Minimum Query</li>
<li>Lowest Common Ancestor</li>
<li>Lazy Propagation</li>
<li>Dynamic Subtree Sum</li>
<li>Neglect &amp; Min</li>
<li>Dual Fields</li>
<li>Finding k-th Smallest Element</li>
<li>Finding Number of Unordered Pairs</li>
</ul>
<h2 id="implementation-of-segment-tree-using-array">Implementation of Segment Tree Using Array <a href="#implementation-of-segment-tree-using-array" class="anchor" aria-hidden="true">#</a></h2>
<p>Let&rsquo;s say, we have an array: <code>Item = {-1, 0, 3, 6}</code>. We want to construct <strong>SegmentTree</strong> array to find out the minimum value in a given range. Our segment tree will look like:</p>
<p><a href="https://i.stack.imgur.com/wTS4a.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/wTS4a.png" alt="Segment Tree"></a></p>
<p>The numbers below the nodes show the indices of each values that we&rsquo;ll store in our <strong>SegmentTree</strong> array. We can see that, to store 4 elements, we needed an array of size 7. This value is determined by:</p>
<pre><code>Procedure DetermineArraySize(Item):
multiplier := 1
n := Item.size
while multiplier &lt; n
    multiplier := multiplier * 2
end while
size := (2 * multiplier) - 1
Return size
</code></pre>
<p>So if we had an array of length 5, the size of our <strong>SegmentTree</strong> array would be: (<strong>8</strong> * <strong>2</strong>) - <strong>1</strong> = <strong>15</strong>. Now, to determine the position of left and right child of a node, if a node is in index <strong>i</strong>, then the position of its:</p>
<ul>
<li>Left Child is denoted by: <strong>(2</strong> * <strong>i)</strong> + <strong>1</strong>.</li>
<li>Right Child is denoted by: <strong>(2</strong> * <strong>i)</strong> + <strong>2</strong>.</li>
</ul>
<p>And the index of the <strong>parent</strong> of any <strong>node</strong> in index <strong>i</strong> can be determined by: <strong>(i</strong> - <strong>1)</strong>/<strong>2</strong>.</p>
<p>So the <strong>SegmentTree</strong> array representing our example would look like:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
|  -1 |  -1 |  3  |  -1 |  0  |  3  |  6  |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>Let&rsquo;s look at the pseudo-code to construct this array:</p>
<pre><code>Procedure ConstructTree(Item, SegmentTree, low, high, position):
if low is equal to high
    SegmentTree[position] := Item[low]
else
    mid := (low+high)/2
    constructTree(Item, SegmentTree, low, mid, 2*position+1)
    constructTree(Item, SegmentTree, mid+1, high, 2*position+2)
    SegmentTree[position] := min(SegmentTree[2*position+1], SegmentTree[2*position+2])
end if
</code></pre>
<p>At first, we take input of the values and initialize the <strong>SegmentTree</strong> array with <code>infinity</code> using the length of the <strong>Item</strong> array as its size. We call the the procedure using:</p>
<ul>
<li>low = Starting index of <strong>Item</strong> array.</li>
<li>high = Finishing index of <strong>Item</strong> array.</li>
<li>position = 0, indicates the <strong>root</strong> of our Segment Tree.</li>
</ul>
<p>Now, let&rsquo;s try to understand the procedure using an example:
<a href="https://i.stack.imgur.com/xtnxJ.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/xtnxJ.png" alt="New Example (-1, 2, 4, 0)"></a></p>
<p>The size of our <strong>Item</strong> array is <strong>4</strong>. We create an array of length <strong>(4</strong> * <strong>2)</strong> - <strong>1</strong> = <strong>7</strong> and initialize them with <code>infinity</code>. You can use a very large value for it. Our array would look like:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
| inf | inf | inf | inf | inf | inf | inf |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>Since this is a recursive procedure, we&rsquo;ll see the operation of the <code>ConstructTree</code> using a recursion table that keeps track of <code>low</code>, <code>high</code>, <code>position</code>, <code>mid</code> and <code>calling line</code> at each call. At first, we call <strong>ConstructTree(Item, SegmentTree, 0, 3, 0)</strong>. Here, <code>low</code> is not same as <code>high</code>, we&rsquo;ll get a <code>mid</code>. The <code>calling line</code> indicates which <code>ConstructTree</code> is called after this statement. We denote the <code>ConstructTree</code> calls inside the procedure as <strong>1</strong> and <strong>2</strong> respectively. Our table will look like:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
</code></pre>
<p>So when we call <code>ConstructTree-1</code>, we pass: <code>low = 0</code>, <code>high = mid = 1</code>, <code>position = 2*position+1 = 2*0+1 = 1</code>. One thing you can notice, that is <code>2*position+1</code> is the left child of <strong>root</strong>, which is <strong>1</strong>. Since <code>low</code> is not equal to <code>high</code>, we get a <code>mid</code>. Our table will look like:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   1  |     1    |  0  |       1      |
+-----+------+----------+-----+--------------+
</code></pre>
<p>In the next recursive call, we pass <code>low = 0</code>, <code>high = mid = 0</code>, <code>position = 2*position+1 = 2*1+1=3</code>. Again the left child of index <strong>1</strong> is <strong>3</strong>. Here, <code>low</code> is e<code>high</code>, so we set <code>SegmentTree[position] = SegmentTree[3] = Item[low] = Item[0] = -1</code>. Our <strong>SegmentTree</strong> array will look like:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
| inf | inf | inf |  -1 | inf | inf | inf |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>Our recursion table will look like:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   1  |     1    |  0  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   0  |     3    |     |              |
+-----+------+----------+-----+--------------+
</code></pre>
<p>So you can see, <strong>-1</strong> has got its correct position. Since this recursive call is complete, we go back to the previous row of our recursion table. The table:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   1  |     1    |  0  |       1      |
+-----+------+----------+-----+--------------+
</code></pre>
<p>In our procedure, we execute the <code>ConstructTree-2</code> call. This time, we pass <code>low = mid+1 = 1</code>, <code>high = 1</code>, <code>position = 2*position+2 = 2*1+2 = 4</code>. Our <code>calling line</code> changes to <strong>2</strong>. We get:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   1  |     1    |  0  |       2      |
+-----+------+----------+-----+--------------+
</code></pre>
<p>Since, <code>low</code> is equal to <code>high</code>, we set: <code>SegmentTree[position] = SegmentTree[4] = Item[low] = Item[1] = 2</code>. Our <strong>SegmentTree</strong> array:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
| inf | inf | inf |  -1 |  2  | inf | inf |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>Our recursion table:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   1  |     1    |  0  |       2      |
+-----+------+----------+-----+--------------+
|  1  |   1  |     4    |     |              |
+-----+------+----------+-----+--------------+
</code></pre>
<p>Again you can see, <strong>2</strong> has got its correct position. After this recursive call, we go back to the previous row of our recursion table. We get:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       1      |
+-----+------+----------+-----+--------------+
|  0  |   1  |     1    |  0  |       2      |
+-----+------+----------+-----+--------------+
</code></pre>
<p>We execute the last line of our procedure, <code>SegmentTree[position] = SegmentTree[1] = min(SegmentTree[2*position+1], SegmentTree[2*position+2]) = min(SegmentTree[3], SegmentTree[4]) = min(-1,2) = -1</code>. Our <strong>SegmentTree</strong> array:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
| inf |  -1 | inf |  -1 |  2  | inf | inf |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>Since this recursion call is complete, we go back to the previous row of our recursion table and call <code>ConstructTree-2</code>:</p>
<pre><code>+-----+------+----------+-----+--------------+
| low | high | position | mid | calling line |
+-----+------+----------+-----+--------------+
|  0  |   3  |     0    |  1  |       2      |
+-----+------+----------+-----+--------------+
</code></pre>
<p>We can see that the left portion of our segment tree is complete. If we continue in this manner, after completing the whole procedure we&rsquo;ll finally get a completed <strong>SegmentTree</strong> array, that&rsquo;ll look like:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
|  -1 |  -1 |  0  |  -1 |  2  |  4  |  0  |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>The time and space complexity of constructing this <strong>SegmentTree</strong> array is: <code>O(n)</code>, where <strong>n</strong> denotes the number of elements in <strong>Item</strong> array. Our constructed <strong>SegmentTree</strong> array can be used to perform <em>Range Minimum Query(RMQ)</em>. To construct an array to perform <em>Range Maximum Query</em>, we need to replace the line:</p>
<pre><code>SegmentTree[position] := min(SegmentTree[2*position+1], SegmentTree[2*position+2])
</code></pre>
<p>with:</p>
<pre><code>SegmentTree[position] := max(SegmentTree[2*position+1], SegmentTree[2*position+2])
</code></pre>
<h2 id="performing-a-range-minimum-query">Performing a Range Minimum Query <a href="#performing-a-range-minimum-query" class="anchor" aria-hidden="true">#</a></h2>
<p>The procedure to perform a RMQ is already shown in introduction. The pseudo-code for checking Range Minimum Query will be:</p>
<pre><code>Procedure RangeMinimumQuery(SegmentTree, qLow, qHigh, low, high, position):
if qLow &lt;= low and qHigh &gt;= high        //Total Overlap
    Return SegmentTree[position]
else if qLow &gt; high || qHigh &lt; low      //No Overlap
    Return infinity
else                                    //Partial Overlap
    mid := (low+high)/2
    Return min(RangeMinimumQuery(SegmentTree, qLow, qHigh, low, mid, 2*position+1),
               RangeMinimumQuery(SegmentTree, qLow, qHigh, mid+1, high, 2*position+2))
end if
</code></pre>
<p>Here, <code>qLow = The lower range of our query</code>, <code>qHigh = The upper range of our query</code>. <code>low = starting index of Item array</code>, <code>high = Finishing index of Item array</code>, <code>position = root = 0</code>. Now let&rsquo;s try to understand the procedure using the example we created before:</p>
<p><a href="https://i.stack.imgur.com/wTS4a.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/wTS4a.png" alt="Example Segment Tree"></a></p>
<p>Our <strong>SegmentTree</strong> array:</p>
<pre><code>   0     1     2     3     4     5     6
+-----+-----+-----+-----+-----+-----+-----+
|  -1 |  -1 |  0  |  -1 |  2  |  4  |  0  |
+-----+-----+-----+-----+-----+-----+-----+
</code></pre>
<p>We want to find the minimum in range <strong>[1,3]</strong>.<br/>
Since this is a recursive procedure, we&rsquo;ll see the operation of the <code>RangeMinimumQuery</code> using a recursion table that keeps track of <code>qLow</code>, <code>qHigh</code>, <code>low</code>, <code>high</code>, <code>position</code>, <code>mid</code> and <code>calling line</code>. At first, we call <strong>RangeMinimumQuery(SegmentTree, 1, 3, 0, 3, 0</strong>. Here, the first two conditions are not met(partial overlap). We&rsquo;ll get a <code>mid</code>. The <code>calling line</code> indicates which <code>RangeMinimumQuery</code> is called after this statement. We denote the <code>RangeMinimumQuery</code> calls inside the procedure as <strong>1</strong> and <strong>2</strong> respectively. Our table will look like:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>So when we call <code>RangeMinimumQuery-1</code>, we pass: <code>low = 0</code>, <code>high = mid = 1</code>, <code>position = 2*position+1 = 1</code>. One thing you can notice, that is <code>2*position+1</code> is the left child of a <strong>node</strong>. That means we&rsquo;re checking the left child of <strong>root</strong>. Since <strong>[1,3]</strong> partially overlaps <strong>[0,1]</strong>, the first two conditions are not met, we get a <code>mid</code>. Our table:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   1  |     1    |  0  |       1      |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>In the next recursive call, we pass <code>low = 0</code>, <code>high = mid = 0</code>, <code>position = 2*position+1 = 3</code>. We reach the leftmost leaf of our tree. Since <strong>[1,3]</strong> doesn&rsquo;t overlap with <strong>[0,0]</strong>, we return <code>infinity</code> to our calling function. Recursion table:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   1  |     1    |  0  |       1      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   0  |     3    |     |              |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>Since this recursive call is complete, we go back to the previous row of our recursion table. We get:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   1  |     1    |  0  |       1      |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>In our procedure, we execute <code>RangeMinimumQuery-2</code> call. This time, we pass <code>low = mid+1 = 1</code>, <code>high = 1</code> and <code>position = 2*position+2 = 4</code>. Our <code>calling line changes to **2**</code>. We get:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   1  |     1    |  0  |       2      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  1  |   1  |     4    |     |              |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>So we are going to the right child of previous node. This time there is a total overlap. We return the value <code>SegmentTree[position] = SegmentTree[4] = 2</code>.</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>Back at the calling function, we are checking what is the minimum of the two returned values of two calling functions. Obviously the minimum is <strong>2</strong>, we return <strong>2</strong> to the calling function. Our  recursion table looks like:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>We&rsquo;re done looking at the left portion of our segment tree. Now we&rsquo;ll call <code>RangeMinimumQuery-2</code> from here. We&rsquo;ll pass <code>low = mid+1 = 1+1 =2</code>, <code>high = 3</code> and <code>position = 2*position+2 = 2</code>. Our table:</p>
<pre><code>+------+-------+-----+------+----------+-----+--------------+
| qLow | qHigh | low | high | position | mid | calling line |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  0  |   3  |     0    |  1  |       1      |
+------+-------+-----+------+----------+-----+--------------+
|   1  |   3   |  2  |   3  |     2    |     |              |
+------+-------+-----+------+----------+-----+--------------+
</code></pre>
<p>There is a total overlap. So we return the value: <code>SegmentTree[position] = SegmentTree[2] = 0</code>. We come back to the recursion from where these two children were called and get the minimum of <strong>(4,0)</strong>, that is <strong>0</strong> and return the value.</p>
<p>After executing the procedure, we get <strong>0</strong>, which is the minimum from index-<strong>1</strong> to index-<strong>3</strong>.</p>
<p>The runtime complexity for this procedure is <code>O(logn)</code> where <strong>n</strong> is the number of elements in the <strong>Items</strong> array. To perform a Range Maximum Query, we need to replace the line:</p>
<pre><code>Return min(RangeMinimumQuery(SegmentTree, qLow, qHigh, low, mid, 2*position+1),
               RangeMinimumQuery(SegmentTree, qLow, qHigh, mid+1, high, 2*position+2))
</code></pre>
<p>with:</p>
<pre><code>Return max(RangeMinimumQuery(SegmentTree, qLow, qHigh, low, mid, 2*position+1),
               RangeMinimumQuery(SegmentTree, qLow, qHigh, mid+1, high, 2*position+2))
</code></pre>
<h2 id="lazy-propagation">Lazy Propagation <a href="#lazy-propagation" class="anchor" aria-hidden="true">#</a></h2>
<p>Let&rsquo;s say, you have already created a segment tree. You are required to update the values of the array, this will not only change the leaf nodes of your segment tree, but also the minimum/maximum in some nodes. Let&rsquo;s look at this with an example:</p>
<p><a href="https://i.stack.imgur.com/wTS4a.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/wTS4a.png" alt="Example Segment Tree"></a></p>
<p>This is our minimum segment tree of <strong>8</strong> elements. To give you a quick reminder, each nodes represent the minimum value of the range mentioned beside them. Let&rsquo;s say, we want to increment the value of the first item of our array by <strong>3</strong>. How can we do that? We&rsquo;ll follow the way in which we conducted RMQ. The process would look like:</p>
<ul>
<li>At first, we traverse the root. <strong>[0,0]</strong> partially overlaps with <strong>[0,7]</strong>, we go to both directions.
<ul>
<li>At left subtree, <strong>[0,0]</strong> partially overlaps with <strong>[0,3]</strong>, we go to both directions.
<ul>
<li>At left subtree, <strong>[0,0]</strong> partially overlaps with <strong>[0,1]</strong>, we go to both directions.
<ul>
<li>At left subtree, <strong>[0,0]</strong> totally overlaps with <strong>[0,0]</strong>, and since its the leaf node, we update the node by increasing it s value by <strong>3</strong>. And return the value <strong>-1</strong> + <strong>3</strong> = <strong>2</strong>.</li>
<li>At right subtree, <strong>[1,1]</strong> doesn&rsquo;t overlap with <strong>[0,0]</strong>, we return the value at the node(<strong>2</strong>).<br/>
The minimum of these two returned values(<strong>2</strong>, <strong>2</strong>) are <strong>2</strong>, so we update the value of the current node and return it.</li>
</ul>
</li>
<li>At right subtree <strong>[2,3]</strong> doesn&rsquo;t overlap with <strong>[0,0]</strong>, we return the value of the node. (<strong>1</strong>).<br/>
Since the minimum of these two returned values (<strong>2</strong>, <strong>1</strong>) is <strong>1</strong>, we update the value of the current node and return it.</li>
</ul>
</li>
<li>At right subtree <strong>[4,7]</strong> doesn&rsquo;t overlap with <strong>[0,0]</strong>, we return the value of the node. (<strong>1</strong>).<br/></li>
</ul>
</li>
<li>Finally the value of the root node is updated since the minimum of the two returned values <strong>(1,1)</strong> is <strong>1</strong>.</li>
</ul>
<p>We can see that, updating a single node requires <code>O(logn)</code> time complexity, where <strong>n</strong> is the number of leaf nodes. So if we are asked to update some nodes from <strong>i</strong> to <strong>j</strong>, we&rsquo;ll require <code>O(nlogn)</code> time complexity. This becomes cumbersome for a large value of <strong>n</strong>. Let&rsquo;s be <em>Lazy</em> i. e., do work only when needed. How? When we need to update an interval, we will update a node and mark its child that it needs to be updated and update it when needed. For this we need an array <strong>lazy</strong> of the same size as that of a segment tree. Initially all the elements of the <strong>lazy</strong> array will be <strong>0</strong> representing that there is no pending update. If there is non-zero element in <strong>lazy[i]</strong>, then this element needs to update node <strong>i</strong> in the segment tree before making any query operations. How are we going to do that? Let&rsquo;s look at an example:</p>
<p>Let&rsquo;s say, for our example tree, we want to execute some queries. These are:</p>
<ul>
<li>increment <strong>[0,3]</strong> by <strong>3</strong>.</li>
<li>increment <strong>[0,3]</strong> by <strong>1</strong>.</li>
<li>increment <strong>[0,0]</strong> by <strong>2</strong>.</li>
</ul>
<p><strong>increment [0,3] by 3:</strong></p>
<ul>
<li>
<p>We start from the root node. At first, we check if this value is up-to-date. For this we check our <strong>lazy</strong> array which is <strong>0</strong>, that means the value is up-to-date. <strong>[0,3]</strong> partially overlaps <strong>[0,7]</strong>. So we go to both the directions.</p>
<ul>
<li>At the left subtree, there&rsquo;s no pending update. <strong>[0,3]</strong> totally overlaps <strong>[0,3]</strong>. So we update the value of the node by <strong>3</strong>. So the value becomes <strong>-1</strong> + <strong>3</strong> = <strong>2</strong>. This time, we&rsquo;re not going to go all the way. Instead of going down, we update the corresponding child in the lazy tree of our current node and increment them by <strong>3</strong>. We also return the value of the current node.</li>
<li>At the right subtree, there&rsquo;s no pending update. <strong>[0,3]</strong> doesn&rsquo;t overlap <strong>[4,7]</strong>. So we return the value of the current node <strong>(1)</strong>.<br/>
The minimum of two returned values (<strong>2</strong>, <strong>1</strong>) is <strong>1</strong>. We update the root node to <strong>1</strong>.</li>
</ul>
</li>
</ul>
<p>Our Segment Tree and Lazy Tree would look like:</p>
<p><a href="https://i.stack.imgur.com/xtnxJ.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/xtnxJ.png" alt="Segment tree and lazy tree"></a></p>
<p>The non-zero values in nodes of our Lazy Tree represents, there are updates pending in those nodes and below. We&rsquo;ll update them if required. If we are asked, what is the minimum in range <strong>[0,3]</strong>, we&rsquo;ll come to the left subtree of the root node and since there&rsquo;s no pending updates, we&rsquo;ll return <strong>2</strong>, which is correct. So this process doesn&rsquo;t affect the correctness of our segment tree algorithm.</p>
<p><strong>increment [0,3] by 1:</strong></p>
<ul>
<li>We start from the root node. There&rsquo;s no pending update. <strong>[0,3]</strong> partially overlaps <strong>[0,7]</strong>. So we go to both directions.
<ul>
<li>In the left subtree, there&rsquo;s no pending update. <strong>[0,3]</strong> completely overlaps <strong>[0,3]</strong>. We update the current node: <strong>2</strong> + <strong>1</strong> = <strong>3</strong>. Since this is an internal node, we update its children in the Lazy Tree to be incremented by <strong>1</strong>. We&rsquo;ll also return the value of the current node (<strong>3</strong>).</li>
<li>In the right subtree, there&rsquo;s no pending update. <strong>[0,3]</strong> doesn&rsquo;t overlap <strong>[4,7]</strong>. We return the value of the current node (<strong>1</strong>). <br/></li>
</ul>
</li>
<li>We update the root node by taking the minimum of two returned values(<strong>3</strong>, <strong>1</strong>).</li>
</ul>
<p>Our Segment Tree and Lazy Tree will look like:</p>
<p><a href="https://i.stack.imgur.com/2vCca.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/2vCca.png" alt="Segment Tree and Lazy Tree updated"></a></p>
<p>As you can see, we&rsquo;re accumulating the updates at Lazy Tree but not pushing it down. This is what Lazy Propagation means. If we hadn&rsquo;t used it, we had to push the values down to the leaves, which would cost us more unnecessary time complexity.</p>
<p><strong>increment [0,0] by 2:</strong></p>
<ul>
<li>We start from the root node. Since root is up-to-date and <strong>[0,0]</strong> partially overlaps <strong>[0,7]</strong>, we go to both directions.
<ul>
<li>At the left subtree, the current node is up-to-date and <strong>[0,0]</strong> partially overlaps <strong>[0,3]</strong>, we go to both directions.
<ul>
<li>At the left subtree, the current node in Lazy Tree has a non-zero value. So there is an update which has not been propagated yet to this node. We&rsquo;re going to first update this node in our Segment Tree. So this becomes <strong>-1</strong> + <strong>4</strong> = <strong>3</strong>. Then we&rsquo;re going to propagate this <strong>4</strong> to its children in the Lazy Tree. As we have already updated the current node, we&rsquo;ll change the value of current node in Lazy Tree to <strong>0</strong>. Then <strong>[0,0]</strong> partially overlaps <strong>[0,1]</strong>, so we go to both directions.
<ul>
<li>At the left node, the value needs to be updated since there is a non-zero value in the current node of Lazy Tree. So we update the value to <strong>-1</strong> + <strong>4</strong> = <strong>3</strong>. Now, since <strong>[0,0]</strong> totally overlaps <strong>[0,0]</strong>, we update the value of the current node to <strong>3</strong> + <strong>2</strong> = <strong>5</strong>. This is a leaf node, so we need not to propagate the value anymore. We update the corresponding node at the Lazy Tree to <strong>0</strong> since all the values have been propagated up till this node. We return the value of the current node(<strong>5</strong>).</li>
<li>At the right node, the value needs to be updated. So the value becomes: <strong>4</strong> + <strong>2</strong> = <strong>6</strong>. Since <strong>[0,0]</strong> doesn&rsquo;t overlap <strong>[1,1]</strong>, we return the value of the current node(<strong>6</strong>). We also update the value in Lazy Tree to <strong>0</strong>. No propagation is needed since this is a leaf node.<br/>
We update the current node using the minimum of two returned values(<strong>5</strong>,<strong>6</strong>). We return the value of the current node(<strong>5</strong>).</li>
</ul>
</li>
<li>At the right subtree, there&rsquo;s a pending update. We update the value of the node to <strong>1</strong> + <strong>4</strong> = <strong>5</strong>. Since this is not a leaf node, we propagate the value to its children in our Lazy Tree and update the current node to <strong>0</strong>. Since <strong>[0,0]</strong> doesn&rsquo;t overlap with <strong>[2,3]</strong>, we return the value of our current node(<strong>5</strong>).<br/>
We update the current node using the minimum of the returned values(<strong>5</strong>, <strong>5</strong>) and return the value(<strong>5</strong>).</li>
</ul>
</li>
<li>At the right subtree, there&rsquo;s no pending update and since <strong>[0,0]</strong> doesn&rsquo;t overlap <strong>[4,7]</strong>, we return the value of the current node(<strong>1</strong>).</li>
</ul>
</li>
<li>We update the root node using the minimum of the two returned values(<strong>5</strong>,<strong>1</strong>).</li>
</ul>
<p>Our Segment Tree and Lazy Tree will look like:</p>
<p><a href="https://i.stack.imgur.com/18oYZ.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/18oYZ.png" alt="Segment Tree and Lazy Tree Updated"></a></p>
<p>We can notice that, the value at <strong>[0,0]</strong>, when needed, got all the increment.</p>
<p>Now if you are asked to find the minimum in range <strong>[3,5]</strong>, if you have understood up to this point, you can easily figure out how the query would go and the returned value will be <strong>1</strong>. Our segment Tree and Lazy Tree would look like:</p>
<p><a href="https://i.stack.imgur.com/0TEiq.png"><img class="img-fluid lazyload blur-up" src="https://i.stack.imgur.com/0TEiq.png" alt="Lazy Tree and Segment Tree after query"></a></p>
<p>We have simply followed the same process we followed in finding RMQ with added constraints of checking the Lazy Tree for pending updates.</p>
<p>Another thing we can do is instead of returning values from each node, since we know what will be the child node of our current node, we can simply check them to find the minimum of these two.</p>
<p>The pseudo-code for updating in Lazy Propagation would be:</p>
<pre><code>Procedure UpdateSegmentTreeLazy(segmentTree, LazyTree, startRange,
                                endRange, delta, low, high, position):
if low &gt; high                                                //out of bounds
    Return
end if
if LazyTree[position] is not equal to 0                      //update needed
    segmentTree[position] := segmentTree[position] + LazyTree[position]
    if low is not equal to high                              //non-leaf node    
        LazyTree[2 * position + 1] := LazyTree[2 * position + 1] + delta
        LazyTree[2 * position + 2] := LazyTree[2 * position + 2] + delta
    end if
    LazyTree[position] := 0
end if
if startRange &gt; low or endRange &lt; high                       //doesn't overlap
    Return
end if
if startRange &lt;= low &amp;&amp; endRange &gt;= high                     //total overlap
    segmentTree[position] := segmentTree[position] + delta
    if low is not equal to high
        LazyTree[2 * position + 1] := LazyTree[2 * position + 1] + delta
        LazyTree[2 * position + 2] := LazyTree[2 * position + 2] + delta
    end if
    Return
end if
//if we reach this portion, this means there's a partial overlap
mid := (low + high) / 2
UpdateSegmentTreeLazy(segmentTree, LazyTree, startRange,
                                endRange, delta, low, mid, 2 * position + 1)
UpdateSegmentTreeLazy(segmentTree, LazyTree, startRange,
                                endRange, delta, mid + 1, high, 2 * position + 2)
segmentTree[position] := min(segmentTree[2 * position + 1], 
                                                    segmentTree[2 * position + 2])
</code></pre>
<p>And the pseudo-code for RMQ in Lazy Propagation will be:</p>
<pre><code>Procedure RangeMinimumQueryLazy(segmentTree, LazyTree, qLow, qHigh, low, high, position):
if low &gt; high
    Return infinity
end if
if LazyTree[position] is not equal to 0                      //update needed
    segmentTree[position] := segmentTree[position] + LazyTree[position]
    if low is not equal to high
        segmentTree[position] := segmentTree[position] + LazyTree[position]
    if low is not equal to high                              //non-leaf node    
        LazyTree[2 * position + 1] := LazyTree[2 * position + 1] + LazyTree[position]
        LazyTree[2 * position + 2] := LazyTree[2 * position + 2] + LazyTree[position]
    end if
    LazyTree[position] := 0
end if
if qLow &gt; high and qHigh &lt; low                                //no overlap
    Return infinity
end if
if qLow &lt;= low and qHigh &gt;= high                              //total overlap
    Return segmentTree[position]
end if
//if we reach this portion, this means there's a partial overlap
mid := (low + high) / 2
Return min(RangeMinimumQueryLazy(segmentTree, LazyTree, qLow, qHigh, 
                                        low, mid, 2 * position + 1),
           RangeMinimumQueryLazy(segmentTree, LazyTree, qLow, qHigh,
                                        mid + 1, high, 2 * position + 1)
</code></pre>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				</div>
			<div class="docs-navigation d-flex justify-content-between">
	
	
		<a href="/data-structures/queue/">
						<div class="card my-1">
							<div class="card-body py-2">
								&larr; Queue
							</div>
						</div>
					</a>
				<a class="ms-auto" href="/data-structures/graph-traversals/">
						<div class="card my-1">
							<div class="card-body py-2">
								Graph traversals &rarr;
							</div>
						</div>
					</a>
				
	
	</div>

			
		</main>
	</div>

      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-xxl">
    <div class="row">
      <div class="col-lg-8 order-last order-lg-first">
        <ul class="list-inline">
          <li class="list-inline-item">Copyright © 2018-2022 Wikiod.</li>
        </ul>
      </div>
      <div class="col-lg-8 order-first order-lg-last text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item"><a href="/about/">About</a></li>
          <li class="list-inline-item"><a href="/disclaimers/">Disclaimers</a></li>
          <li class="list-inline-item"><a href="/dcma/">DCMA</a></li>
          <li class="list-inline-item"><a href="/terms-of-use/">Terms of Use</a></li>
          <li class="list-inline-item"><a href="/privacy-policy/">Privacy Policy</a></li>
          </ul>
      </div>
    </div>
  </div>
</footer>
    

<script src="/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js" integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51&#43;L6gymJi4Qg==" crossorigin="anonymous" defer></script>
  <script src="/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js" integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin="anonymous" defer></script>
  <script src="/main.min.4971645518aa07968852c38e2c8051abe697181395ad03d5fa0eb28e42edf5f54f801de05c98298ce77b65223caf97b7ea259fbca096e64b3840985ec069e2ef.js" integrity="sha512-SXFkVRiqB5aIUsOOLIBRq&#43;aXGBOVrQPV&#43;g6yjkLt9fVPgB3gXJgpjOd7ZSI8r5e36iWfvKCW5ks4QJhewGni7w==" crossorigin="anonymous" defer></script>
  
    
  </body>
</html>